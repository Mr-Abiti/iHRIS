{"version":3,"sources":["webpack:///./node_modules/ethiopic-calendar/index.js","webpack:///./src/components/fhir/fhir-code.vue?8b22","webpack:///src/components/fhir/fhir-code.vue","webpack:///./src/components/fhir/fhir-code.vue?3323","webpack:///./src/components/fhir/fhir-code.vue","webpack:///./src/components/fhir/fhir-codeable-concept.vue?4c16","webpack:///src/components/fhir/fhir-codeable-concept.vue","webpack:///./src/components/fhir/fhir-codeable-concept.vue?ecbe","webpack:///./src/components/fhir/fhir-codeable-concept.vue","webpack:///./src/components/ihris/ihris-secondary.vue?b9af","webpack:///src/components/ihris/ihris-secondary.vue","webpack:///./src/components/ihris/ihris-secondary.vue?1e02","webpack:///./src/components/ihris/ihris-secondary.vue?0ac2","webpack:///./src/components/fhir/fhir-date-time.vue?864d","webpack:///src/components/fhir/fhir-date-time.vue","webpack:///./src/components/fhir/fhir-date-time.vue?2bc2","webpack:///./src/components/fhir/fhir-date-time.vue","webpack:///./src/components/fhir/fhir-extension.vue?24e0","webpack:///src/components/fhir/fhir-extension.vue","webpack:///./src/components/fhir/fhir-extension.vue?47dc","webpack:///./src/components/fhir/fhir-extension.vue","webpack:///./src/components/ihris/ihris-resource.vue?4896","webpack:///src/components/ihris/ihris-resource.vue","webpack:///./src/components/ihris/ihris-resource.vue?4610","webpack:///./src/components/ihris/ihris-resource.vue?3687","webpack:///./src/components/ihris/ihris-resource.vue?df79","webpack:///./src/components/fhir/fhir-date.vue?92fc","webpack:///src/components/fhir/fhir-date.vue","webpack:///./src/components/fhir/fhir-date.vue?4d16","webpack:///./src/components/fhir/fhir-date.vue","webpack:///./src/components/fhir/fhir-human-name.vue?8247","webpack:///src/components/fhir/fhir-human-name.vue","webpack:///./src/components/fhir/fhir-human-name.vue?1f6c","webpack:///./src/components/fhir/fhir-human-name.vue","webpack:///./src/views/languageDetail.vue?20a7","webpack:///./src/components/ihris/ihris-element.vue?332c","webpack:///src/components/ihris/ihris-element.vue","webpack:///./src/components/ihris/ihris-element.vue?f139","webpack:///./src/components/ihris/ihris-element.vue","webpack:///./src/components/fhir/fhir-string.vue?b8b3","webpack:///src/components/fhir/fhir-string.vue","webpack:///./src/components/fhir/fhir-string.vue?44b5","webpack:///./src/components/fhir/fhir-string.vue","webpack:///./src/components/ihris/ihris-array.vue?56f1","webpack:///src/components/ihris/ihris-array.vue","webpack:///./src/components/ihris/ihris-array.vue?3a77","webpack:///../../../src/components/VSystemBar/VSystemBar.ts","webpack:///./src/components/ihris/ihris-array.vue","webpack:///./src/components/fhir/fhir-identifier.vue?5069","webpack:///src/components/fhir/fhir-identifier.vue","webpack:///./src/components/fhir/fhir-identifier.vue?f4c0","webpack:///./src/components/fhir/fhir-identifier.vue","webpack:///./node_modules/vuetify-ethiopian-calendar/dist/v-ethiopian-date-picker.esm.js","webpack:///./src/components/ihris/ihris-section.vue?8830","webpack:///./src/views/languageDetail.vue?e31c","webpack:///src/views/languageDetail.vue","webpack:///./src/views/languageDetail.vue?4c73","webpack:///./src/views/languageDetail.vue?5b2a","webpack:///src/components/ihris/ihris-section.vue","webpack:///./src/components/ihris/ihris-section.vue?09ed","webpack:///./src/components/ihris/ihris-section.vue","webpack:///./src/components/ihris/ihris-secondary.vue?a251","webpack:///./src/components/fhir/fhir-coding.vue?4c22","webpack:///src/components/fhir/fhir-coding.vue","webpack:///./src/components/fhir/fhir-coding.vue?a2b4","webpack:///./src/components/fhir/fhir-coding.vue","webpack:///./src/components/ihris/ihris-complex-card.vue?bc29","webpack:///src/components/ihris/ihris-complex-card.vue","webpack:///./src/components/ihris/ihris-complex-card.vue?a1f7","webpack:///./src/components/ihris/ihris-complex-card.vue"],"names":["JD_EPOCH_OFFSET_AMETE_ALEM","JD_EPOCH_OFFSET_AMETE_MIHRET","JD_EPOCH_OFFSET_GREGORIAN","mod","i","j","Math","floor","isGregorianLeap","year","ethCopticToJDN","month","day","era","jdnToGregorian","jdn","JD_OFFSET","leapYear","nMonths","monthDays","r2000","r400","r100","r4","n","s","aprime","t","guessEra","JD_AM","JD_AA","gregorianToJDN","jdnToEthiopic","r","ethiopicToGregorian","gregorianToEthiopic","module","exports","gj","je","eg","ge","AA","AM","render","_vm","this","_h","$createElement","_c","_self","attrs","edit","loading","scopedSlots","_u","key","fn","$t","display","items","filter","x","code","includes","errors","disabled","rules","on","$event","_v","_s","staticClass","_e","proxy","model","value","callback","$$v","expression","displayValue","staticRenderFns","name","props","components","IhrisElement","data","source","lockWatch","created","setupData","watch","slotProps","handler","deep","methods","$fhirpath","evaluate","readOnlyIfSet","$fhirutils","expand","console","log","err","computed","index","found","required","min","component","VSelect","_t","binding","translatedHeader","title","_l","action","text","setupLink","link","class","ref","item","empty","topActions","mounted","url","resource","linkId","searchField","field","queryStr","push","join","addItems","fetch","response","json","then","processContent","replace","VBtn","VContainer","VDataTable","VSpacer","VToolbar","VToolbarTitle","_g","label","menu","showGregorian","pickerType","minYear","maxYear","etValue","$vuetify","breakpoint","smAndUp","maxValueETDateTime","minValueETDateTime","save","dateValueMax","dateValueMin","VEthiopianDatePicker","qField","maxDate","maxValueDate","minDate","minValueDate","substring","minYearET","minValueETDate","maxYearET","maxValueETDate","isEthiopian","calendar","convertGE","val","setTimeout","convertEG","convertQuantity","$moment","etDate","toString","padStart","gDate","displayType","$refs","date","VCard","VCardText","VCardTitle","VDatePicker","VIcon","VMenu","VRow","VTextField","profile","sliceName","valid","overlay","staticStyle","$router","history","current","path","loadingId","printEmployeeId","loadingCv","printEmployeeCv","go","$emit","processFHIR","form","validate","links","length","idx","button","getLinkUrl","icon","linktext","section","secondary","fhir","orig","isEdit","advancedValid","isQuestionnaire","window","removeEventListener","handleScroll","addEventListener","beforeDestroy","fhirId","resourceType","startsWith","hasPresets","last","hasOwnProperty","parseInt","$route","query","hasFhirId","hasScrolled","top","scrollY","sectionMenu","map","pageYOffset","sectionTop","getLinkField","content","setLinkText","method","responseType","VDivider","VForm","VList","VListItem","VListItemContent","VListItemSubtitle","VListItemTitle","VNavigationDrawer","VOverlay","VProgressCircular","VSubheader","IhrisComplexCard","$store","state","cols","header","VCol","VProgressLinear","isPassword","showPassword","simpleValue","removeRow","addRow","input","inputs","isArray","setupInputs","splice","getField","actualMin","max","addAvailable","displayIndex","subAvailable","simpleDisplay","mixins","height","Number","lightsOut","Boolean","classes","app","themeClasses","computedHeight","isNaN","styles","updateApplication","$el","style","$listeners","h","setBackgroundColor","VSystemBar","ETDate","now","Date","fromGregorian","getFullYear","getMonth","getDate","locale","ETmonths","en","am","ETdays","dayOfWeek","ETdays_short","toGregorianString","getDay","firstDay","numDays","numWeek","type","getMonthName","getDayName","getDayAbbrev","createFormatter","dateString","trim","split","et_date","format","daysInMonth","etdate","firstDayOfTheMonth","weekOfYear","monthChange","sign","VEthiopianDatePickerHeader","extends","String","currentLocale","VEthiopianDatePickerMonthTable","children","Array","fill","rows","row","tds","_","col","displayedYear","genButton","formatter","isFloating","mouseEventType","isAllowed","allowedDates","isSelected","isCurrent","setColor","setTextColor","color","genButtonClasses","domProps","genButtonEvents","genEvents","VEthiopianDatePickerDateTable","weekdayFormat","first","firstDayOfWeek","weekdayFormatter","weekDay","displayedMonth","dayInMonth","daysInCurrentMonth","weekDaysBeforeFirstDayOfTheMonth","showWeek","genWeekNumber","getWeekNumber","genTR","sanitizeDateString","substr","validator","activePicker","toUpperCase","inputDay","inputMonth","inputYear","isReversing","tableDate","pickerDate","multipleValue","showCurrent","titleDate","titleDateFormat","isMultiple","defaultTitleMultipleDateFormatter","defaultTitleDateFormatter","titleDateFormatter","landscapeFormatter","match","nonDigit","digit","landscape","tableMonth","reactive","readonly","isDateAllowed","inputDate","emitInput","nextIcon","dark","headerDateFormat","light","minMonth","maxMonth","nextAriaLabel","nextMonthAriaLabel","nextYearAriaLabel","prevAriaLabel","prevMonthAriaLabel","prevYearAriaLabel","prevIcon","tableYear","toggle","events","eventColor","dayFormat","localeFirstDayOfYear","range","scrollable","dateClick","monthFormat","selectedMonths","monthClick","lastValue","array","this$1","dialog","languageList","customFilter","selectedLanguage","proficiencyData","proficiencyType","extension","$set","proficiency","proficiencyInput","addProficiency","reSet","onSave","editDialog","allAvailableLanguages","lan","coding","selectedLanguageToEdit","proficiencySelected","addProficiencySelected","onUpdate","skillCount","tableData","skills","level","select","skillsList","filledLanguage","selectedProficiency","selectedProficiencyType","selected","loaded","textOne","indexOf","searchText","VAutocomplete","VCardActions","VDialog","VSimpleTable","valueCode","valueDisplay","findValue","codeLookup","error","VCardSubtitle"],"mappings":"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","file":"js/fhir-primary.3fc9b883.js","sourcesContent":["/* eslint no-console: 0 */\n/* eslint no-mixed-operators: 0 */\n\n/**\n * This is JavaScript implementation of Beyene-Kudlek algorithm.\n *\n * For more info have a look at: http://www.geez.org/Calendars/\n * Java Code at https://github.com/geezorg/geezorg.github.io/blob/master/Calendars/EthiopicCalendar.java\n */\n\nconst JD_EPOCH_OFFSET_AMETE_ALEM = -285019; // ዓ/ዓ\nconst JD_EPOCH_OFFSET_AMETE_MIHRET = 1723856; // ዓ/ም\nconst JD_EPOCH_OFFSET_GREGORIAN = 1721426;\n\nfunction mod(i, j) {\n  return (i - (j * Math.floor(i / j)));\n}\n\n/**\n * determines if a Gregorian year is leap year or not\n *\n * @param  {Number}  year\n * @return {Boolean}\n */\nfunction isGregorianLeap(year = 1) {\n  return (year % 4 === 0) && ((year % 100 !== 0) || (year % 400 === 0));\n}\n\n/**\n *  Computes the Julian day number of the given Coptic or Ethiopic date.\n *  This method assumes that the JDN epoch offset has been set. This method\n *  is called by copticToGregorian and ethiopicToGregorian which will set\n *  the jdn offset context.\n *\n *  @param {Number} year year in the Ethiopic calendar\n *  @param {Number} month month in the Ethiopic calendar\n *  @param {Number} day date in the Ethiopic calendar\n *  @param {Number} era [description]\n *\n *  @return {Number} The Julian Day Number (JDN)\n */\nfunction ethCopticToJDN(year, month, day, era) {\n  return (era + 365) + 365 * (year - 1) + Math.floor(year / 4) + 30 * month + day - 31;\n}\n\n/**\n * converts JDN to Gregorian\n *\n * @param  {Number} jdn\n * @param  {Number} JD_OFFSET\n * @param  {Function} leapYear\n * @return {Number}\n */\nfunction jdnToGregorian(jdn, JD_OFFSET = JD_EPOCH_OFFSET_GREGORIAN, leapYear = isGregorianLeap) {\n  const nMonths = 12;\n  const monthDays = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n  const r2000 = mod((jdn - JD_OFFSET), 730485);\n  const r400 = mod((jdn - JD_OFFSET), 146097);\n  const r100 = mod(r400, 36524);\n  const r4 = mod(r100, 1461);\n\n  let n = mod(r4, 365) + 365 * Math.floor(r4 / 1460);\n  const s = Math.floor(r4 / 1095);\n\n  const aprime = 400 * Math.floor((jdn - JD_OFFSET) / 146097)\n               + 100 * Math.floor(r400 / 36524)\n               + 4 * Math.floor(r100 / 1461)\n               + Math.floor(r4 / 365)\n               - Math.floor(r4 / 1460)\n               - Math.floor(r2000 / 730484);\n  const year = aprime + 1;\n  const t = Math.floor((364 + s - n) / 306);\n  let month = t * (Math.floor(n / 31) + 1) + (1 - t) * (Math.floor((5 * (n - s) + 13) / 153) + 1);\n  n += 1 - Math.floor(r2000 / 730484);\n  let day = n;\n\n  if ((r100 === 0) && (n === 0) && (r400 !== 0)) {\n    month = 12;\n    day = 31;\n  } else {\n    monthDays[2] = (leapYear(year)) ? 29 : 28;\n    for (let i = 1; i <= nMonths; i += 1) {\n      if (n <= monthDays[i]) {\n        day = n;\n        break;\n      }\n\n      n -= monthDays[i];\n    }\n  }\n\n  return { year, month, day };\n}\n\n/**\n * guesses ERA from JDN\n *\n * @param  {Number} jdn\n * @return {Number}\n */\nfunction guessEra(jdn, JD_AM = JD_EPOCH_OFFSET_AMETE_MIHRET, JD_AA = JD_EPOCH_OFFSET_AMETE_ALEM) {\n  return (jdn >= (JD_AM + 365)) ? JD_AM : JD_AA;\n}\n\n/**\n * given year, month and day of Gregorian returns JDN\n *\n * @param  {Number} year\n * @param  {Number} month\n * @param  {Number} day\n * @param  {Number} JD_OFFSET\n * @return {Number}\n */\nfunction gregorianToJDN(year = 1, month = 1, day = 1, JD_OFFSET = JD_EPOCH_OFFSET_GREGORIAN) {\n  const s = Math.floor(year / 4)\n          - Math.floor((year - 1) / 4)\n          - Math.floor(year / 100)\n          + Math.floor((year - 1) / 100)\n          + Math.floor(year / 400)\n          - Math.floor((year - 1) / 400);\n  const t = Math.floor((14 - month) / 12);\n  const n = 31 * t * (month - 1)\n          + (1 - t) * (59 + s + 30 * (month - 3) + Math.floor((3 * month - 7) / 5))\n          + day - 1;\n  const j = JD_OFFSET\n          + 365 * (year - 1)\n          + Math.floor((year - 1) / 4)\n          - Math.floor((year - 1) / 100)\n          + Math.floor((year - 1) / 400)\n          + n;\n\n  return j;\n}\n\n/**\n * given a JDN and an era returns the Ethiopic equivalent\n *\n * @param  {Number} jdn\n * @param  {Number} era\n * @return {Object} { year, month, day }\n */\nfunction jdnToEthiopic(jdn, era = JD_EPOCH_OFFSET_AMETE_MIHRET) {\n  const r = mod((jdn - era), 1461);\n  const n = mod(r, 365) + 365 * Math.floor(r / 1460);\n\n  const year = 4 * Math.floor((jdn - era) / 1461) + Math.floor(r / 365) - Math.floor(r / 1460);\n  const month = Math.floor(n / 30) + 1;\n  const day = mod(n, 30) + 1;\n\n  return { year, month, day };\n}\n\nfunction ethiopicToGregorian(year = 1, month = 1, day = 1, era = JD_EPOCH_OFFSET_AMETE_MIHRET) {\n  return jdnToGregorian(ethCopticToJDN(year, month, day, era));\n}\n\nfunction gregorianToEthiopic(year = 1, month = 1, day = 1) {\n  const jdn = gregorianToJDN(year, month, day);\n  return jdnToEthiopic(jdn, guessEra(jdn));\n}\n\nmodule.exports = {\n  isGregorianLeap,\n  gj: gregorianToJDN,\n  je: jdnToEthiopic,\n  eg: ethiopicToGregorian,\n  ge: gregorianToEthiopic,\n  AA: JD_EPOCH_OFFSET_AMETE_ALEM,\n  AM: JD_EPOCH_OFFSET_AMETE_MIHRET,\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ihris-element',{attrs:{\"edit\":_vm.edit,\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"form\",fn:function(){return [_c('v-select',{attrs:{\"loading\":_vm.loading,\"label\":_vm.$t((\"App.fhir-code.\" + _vm.display)),\"items\":_vm.items.filter(function (x) { return !x.code.includes('(deactivated)'); }),\"outlined\":\"\",\"hide-details\":\"auto\",\"error-messages\":_vm.errors,\"item-text\":\"display\",\"item-value\":\"code\",\"disabled\":_vm.disabled,\"rules\":_vm.rules,\"dense\":\"\"},on:{\"change\":function($event){_vm.errors = []}},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(_vm._s(_vm.$t((\"App.fhir-code.\" + _vm.display)))+\" \"),(_vm.required)?_c('span',{staticClass:\"red--text font-weight-bold\"},[_vm._v(\"*\")]):_vm._e()]},proxy:true}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})]},proxy:true},{key:\"header\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.$t((\"App.fhir-code.\" + _vm.display)))+\" \")]},proxy:true},{key:\"value\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.displayValue)+\" \")]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ihris-element :edit=\"edit\" :loading=\"loading\">\n    <template #form>\n      <v-select \n        :loading=\"loading\" \n        :label=\"$t(`App.fhir-code.${display}`)\"\n        v-model=\"value\" \n        :items=\"items.filter(x => !x.code.includes('(deactivated)'))\"\n        outlined \n        hide-details=\"auto\" \n        :error-messages=\"errors\"\n        item-text=\"display\"\n        item-value=\"code\"\n        :disabled=\"disabled\"\n        :rules=\"rules\"\n        dense\n        @change=\"errors = []\"\n      >\n        <template #label>{{$t(`App.fhir-code.${display}`)}} <span v-if=\"required\" class=\"red--text font-weight-bold\">*</span></template>\n      </v-select>\n    </template>\n    <template #header>\n      {{$t(`App.fhir-code.${display}`)}}\n    </template>\n    <template #value>\n      {{displayValue}}\n    </template>\n  </ihris-element>\n</template>\n\n<script>\nimport IhrisElement from \"../ihris/ihris-element.vue\"\n\n/*\nconst itemSort = (a,b) => {\n  return (a.display === b.display ? (a.code === b.code ? 0 : (a.code < b.code ? -1: 1)) : (a.display < b.display ? -1 : 1) )\n}\n*/\nexport default {\n  name: \"fhir-code\",\n  props: [\"field\",\"min\",\"max\",\"base-min\",\"base-max\",\"label\",\"binding\",\"slotProps\",\"path\",\"edit\",\"sliceName\",\"readOnlyIfSet\",\"constraints\"],\n  components: {\n    IhrisElement\n  },\n  data: function() {\n    return {\n      value: \"\",\n      loading: true,\n      errors: [],\n      //error: false,\n      items: [],\n      source: { path: \"\", data: {}, binding: this.binding },\n      disabled: false,\n      lockWatch: false\n    }\n  },\n  created: function() {\n    this.setupData()\n  },\n  watch: {\n    slotProps: {\n      handler() {\n        //console.log(\"WATCH CODE\",this.field,this.path,this.slotProps)\n        if ( !this.lockWatch ) {\n          this.setupData()\n        }\n      },\n      deep: true\n    }\n  },\n  methods: {\n    setupData() {\n      if ( this.slotProps && this.slotProps.source ) {\n        this.source = { path: this.slotProps.source.path+\".\"+this.field, data: {} }\n        if ( this.slotProps.source.fromArray ) {\n          this.source.data = this.slotProps.source.data\n          this.value = this.source.data\n          this.lockWatch = true\n          //console.log(\"SET value to \", this.source.data, this.slotProps.input)\n        } else {\n          let expression = this.$fhirutils.pathFieldExpression( this.field )\n          this.source.data = this.$fhirpath.evaluate( this.slotProps.source.data, expression )\n          //console.log(\"STR FHIRPATH\", this.slotProps.source.data, this.field)\n          if ( this.source.data.length == 1 ) {\n            this.value = this.source.data[0]\n            this.lockWatch = true\n          }\n        }\n        this.disabled = this.readOnlyIfSet && (!!this.value)\n        //console.log(this.source)\n      }\n      let binding = this.binding || this.slotProps.source.binding\n      this.$fhirutils.expand( binding ).then( items => {\n        this.items = items \n        this.loading = false\n      } ).catch( err => {\n        console.log(err)\n        //this.error = true\n        this.errors.push( err.message )\n        this.loading = false\n      } )\n    }\n  },\n  computed: {\n    index: function () {\n      if ( this.slotProps && this.slotProps.input ) return this.slotProps.input.index\n      else return undefined\n    },\n    display: function() {\n      if ( this.slotProps && this.slotProps.input) return this.slotProps.input.label\n      else return this.label\n    },\n    displayValue: function() {\n      let found = this.items.find( item => item.code === this.value )\n      if ( found ) {\n        return found.display\n      } else {\n        return \"\"\n      }\n    },\n    required: function() {\n      return (this.index || 0) < this.min \n    },\n    rules: function() {\n      if ( this.required ) {\n        return [ v => !!v || this.display+\" is required\" ]\n      } else {\n        return []\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-code.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-code.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fhir-code.vue?vue&type=template&id=bcc1859a&\"\nimport script from \"./fhir-code.vue?vue&type=script&lang=js&\"\nexport * from \"./fhir-code.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VSelect})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._t(\"default\",null,{\"source\":_vm.source})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <slot :source=\"source\"></slot>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"fhir-codeable-concept\",\n  props: [\"field\", \"slotProps\",\"sliceName\",\"min\",\"max\",\"base-min\",\"base-max\",\"label\",\"path\",\"binding\",\"edit\",\"constraints\"],\n  data: function() {\n    return {\n      source: { path: \"\", data: {}, binding: this.binding },\n      errors: []\n    }\n  },\n  created: function() {\n    this.setupData()\n  },\n  watch: {\n    slotProps: {\n      handler() {\n        //console.log(\"WATCH CODEABLECONCEPT\",this.path,this.slotProps)\n        this.setupData()\n      },\n      deep: true\n    }\n  },\n  methods: {\n    setupData: function() {\n      //console.log(\"CC\",this.field,this.path,this.source,this.slotProps)\n      if ( this.slotProps && this.slotProps.source ) {\n        this.source = { path: this.slotProps.source.path+\".\"+this.field, data: {}, \n          binding: this.binding }\n        //console.log(\"CC binding\",this.binding)\n        if ( this.slotProps.source.fromArray ) {\n          this.source.data = this.slotProps.source.data\n        } else {\n          let expression = this.$fhirutils.pathFieldExpression( this.field )\n          this.source.data = this.$fhirpath.evaluate( this.slotProps.source.data, expression )\n        }\n        //console.log(\"CC2\",this.field,this.source)\n      }\n    }\n  },\n  computed: {\n    display: function() {\n      if ( this.slotProps && this.slotProps.input ) return this.slotProps.input.label\n      else return this.label\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-codeable-concept.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-codeable-concept.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fhir-codeable-concept.vue?vue&type=template&id=77e24c22&\"\nimport script from \"./fhir-codeable-concept.vue?vue&type=script&lang=js&\"\nexport * from \"./fhir-codeable-concept.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.edit)?_c('v-container',{staticClass:\"my-3\"},[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.translatedHeader,\"items\":_vm.items,\"item-key\":\"id\",\"items-per-page\":5,\"loading\":_vm.loading,\"dense\":\"\",\"footer-props\":{ 'items-per-page-text':_vm.$t('App.ihris-search.tableText'), 'items-per-page-options': [5,10,20,50] }},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\",\"color\":\"white\"}},[_c('v-toolbar-title',[_vm._v(\" \"+_vm._s(_vm.$t((\"App.ihris-secondary.\" + _vm.title)))+\" \")]),_c('v-spacer'),_vm._l((_vm.topActions),function(action){return _c('v-btn',{key:action.text,attrs:{\"to\":_vm.setupLink( action.link, {} ),\"color\":action.class,\"small\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t((\"App.ihris-secondary.\" + (action.text))))+\" \")])})],2)]},proxy:true},{key:\"item._action\",fn:function(ref){\nvar item = ref.item;\nreturn _vm._l((item.actions),function(action){return _c('v-btn',{key:action.text,attrs:{\"to\":_vm.setupLink( action.link, item ),\"color\":action.class,\"small\":\"\",\"rounded\":\"\"}},[_vm._v(\" \"+_vm._s(action.text)+\" \")])})}}],null,false,4170917870)})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container class=\"my-3\" v-if=\"!edit\">\n    <v-data-table\n      :headers=\"translatedHeader\"\n      :items=\"items\"\n      item-key=\"id\"\n      :items-per-page=\"5\"\n      :loading=\"loading\"\n      class=\"elevation-1\"\n      dense\n      :footer-props=\"{ 'items-per-page-text':$t('App.ihris-search.tableText'), 'items-per-page-options': [5,10,20,50] }\"\n    >\n      <template v-slot:top>\n        <v-toolbar flat color=\"white\">\n          <v-toolbar-title>\n            {{ $t(`App.ihris-secondary.${title}`) }}\n          </v-toolbar-title>\n          <v-spacer></v-spacer>\n          <v-btn\n            v-for=\"action in topActions\"\n            :to=\"setupLink( action.link, {} )\"\n            :color=\"action.class\"\n            :key=\"action.text\"\n            small\n            >\n            {{ $t(`App.ihris-secondary.${action.text}`) }}\n          </v-btn>\n        </v-toolbar>\n      </template>\n      <template v-slot:item._action=\"{ item }\">\n        <v-btn\n          v-for=\"action in item.actions\"\n          :to=\"setupLink( action.link, item )\"\n          :color=\"action.class\"\n          :key=\"action.text\"\n          small\n          rounded\n          >\n          {{ action.text }}\n        </v-btn>\n      </template>\n    </v-data-table>\n  </v-container>\n</template>\n\n<script>\nconst isObject = (obj) => {\n  return (!!obj) && (obj.constructor === Object)\n}\n\nexport default {\n  name: \"ihris-secondary\",\n  props: [\"title\", \"field\", \"profile\", \"slotProps\", \"link-id\", \"link-field\",\n    \"search-field\", \"edit\", \"columns\", \"actions\"],\n  data: function() {\n    return {\n      source: { data: {}, path: this.field },\n      empty: true,\n      items: [],\n      loading: true,\n      topActions: [],\n      translatedHeader:[]\n    }\n  },\n  mounted: function() {\n    this.setupData()\n  },\n  watch: {\n    /*\n    slotProps: {\n      handler() {\n        this.setupData()\n      },\n      deep: true\n    }\n    */\n  },\n  methods: {\n    setupData: function() {\n      this.translatedHeader =  this.columns.map((x)=> ({\n        text: this.$t(`App.ihris-secondary.table.${x.text}`),\n        value: x.value\n      }))\n      /*\n      if ( this.slotProps && this.slotProps.source ) {\n        this.source = { path: this.field, data: {} }\n        if ( this.slotProps.source.fromArray ) {\n          this.source.data = this.slotProps.source.data\n        } else {\n          this.source.data = this.$fhirpath.evaluate( this.slotProps.source.data, this.field )\n        }\n        //console.log(this.source)\n      }\n      */\n      let url\n      //for searchfield in the form Location:organization with Location being the primary resource, then use _include to retrieve secondary resources\n      if(this.searchField.split(':').length === 2) {\n        let resource = this.searchField.split(':')[0]\n        url = \"fhir/\" + resource + \"?_id=\" + this.linkId + \"&_include=\" + this.searchField\n      } else {\n        url = \"/fhir/\" + this.field\n        let queryStr = []\n        if ( this.profile ) {\n          queryStr.push( \"_profile=\"+this.profile )\n        }\n        if ( this.searchField ) {\n          queryStr.push( this.searchField+\"=\"+this.linkId )\n        } else {\n          queryStr.push( this.linkField.substring( this.linkField.indexOf('.') +1 ) +\"=\"+this.linkId )\n        }\n        url += \"?\" + queryStr.join(\"&\")\n      }\n      this.items = []\n      this.loading = true\n      this.addItems( url )\n    },\n    addItems: function (url) {\n      fetch( url ).then( response => {\n        if ( response.status === 200 ) {\n          response.json().then( async data => {\n            if ( data.entry && data.entry.length > 0 ) {\n              for( let entry of data.entry ) {\n                if(this.searchField.split(':').length === 2 && entry.resource.resourceType === this.searchField.split(':')[0]) {\n                  continue\n                }\n                let row = { id: entry.resource.id }\n                for( let header of this.columns ) {\n                  if ( header.value === \"_action\" ) continue\n                  try {\n                    let content = this.$fhirpath.evaluate( entry.resource, header.value )\n                    row[header.value] = await this.processContent( content )\n                  } catch ( err ) {\n                    console.log(err)\n                  }\n                }\n                if ( !row.actions ) row.actions = []\n                for( let action of this.actions ) {\n                  if ( action.row ) {\n                    if ( action.condition ) {\n                      let meets = this.$fhirpath.evaluate( entry.resource, action.condition )\n                      if ( meets.every( meet => meet ) ) {\n                        row.actions.push( action )\n                      }\n                    } else {\n                      row.actions.push( action )\n                    }\n                  } else {\n                    if ( action.condition ) {\n                      let meets = this.$fhirpath.evaluate( entry.resource, action.condition )\n                      if ( action.hasOwnProperty(\"meets\") ) {\n                        action.meets = action.meets && meets.every( meet => meet )\n                      } else {\n                        action.meets = meets.every( meet => meet )\n                      }\n                    } else {\n                      action.meets = true\n                    }\n                  }\n                }\n                this.items.push( row )\n              }\n            } else {\n              for( let action of this.actions ) {\n                if ( !action.row ) {\n                  action.meets = action.emptyDisplay\n                }\n              }\n            }\n            this.topActions = this.actions.filter( action => !action.row && action.meets )\n\n\n            if ( data.link ) {\n              let next = data.link.find( link => link.relation === \"next\" )\n              if ( next ) {\n                this.addItems( next.url )\n              } else {\n                this.loading = false\n              }\n            } else {\n              this.loading = false\n            }\n          } ).catch( err => {\n            this.loading = false\n            console.log(err)\n          } )\n        } else {\n          this.loading = false\n          console.log(\"Unable to fetch\",url,response.status)\n        }\n      } ).catch( err => {\n        this.loading = false\n        console.log(err)\n      } )\n\n    },\n    processContent: async function( content ) {\n      if ( Array.isArray( content ) ) {\n        let output = await Promise.all(content.map( this.processContent ))\n        return output.join(\" \")\n      } else if ( isObject( content ) ) {\n        if ( content.code && content.system ) {\n          return await this.$fhirutils.codeLookup( content.system, content.code )\n        } else if ( content.display ) {\n          return content.display\n        } else if ( content.code ) {\n          return content.code\n        } else if ( content.reference ) {\n          return await this.$fhirutils.resourceLookup( content.reference)\n        } else {\n          console.log(\"Unable to process content:\",content)\n          return \"Unknown\"\n        }\n      } else {\n        return content\n      }\n    },\n    setupLink( link, item ) {\n      return link.replace( \"ITEMID\", item.id ).replace( \"FHIRID\", this.linkId )\n    }\n  }\n}\n\n</script>\n\n<style>\ntbody tr:nth-of-type(even) {\n  background-color: #E0F2F1;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ihris-secondary.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ihris-secondary.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ihris-secondary.vue?vue&type=template&id=60553f0c&\"\nimport script from \"./ihris-secondary.vue?vue&type=script&lang=js&\"\nexport * from \"./ihris-secondary.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ihris-secondary.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VContainer,VDataTable,VSpacer,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ihris-element',{attrs:{\"edit\":_vm.edit,\"loading\":false},scopedSlots:_vm._u([{key:\"form\",fn:function(){return [_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-text-field',_vm._g({attrs:{\"label\":_vm.$t((\"App.fhir-date-time.\" + _vm.label)),\"prepend-inner-icon\":\"mdi-calendar\",\"readonly\":\"\",\"outlined\":\"\",\"hide-details\":\"auto\",\"rules\":_vm.rules,\"error-messages\":_vm.errors,\"dense\":\"\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(_vm._s(_vm.$t((\"App.fhir-date-time.\" + _vm.label)))+\" \"),(_vm.required)?_c('span',{staticClass:\"red--text font-weight-bold\"},[_vm._v(\"*\")]):_vm._e()]},proxy:true}],null,true),model:{value:(_vm.displayValue),callback:function ($$v) {_vm.displayValue=$$v},expression:\"displayValue\"}},on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[(_vm.isEthiopian)?_c('v-container',{staticClass:\"ma-0 pa-0\"},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-card',{attrs:{\"min-width\":\"300px\"}},[_c('v-card-title',{staticClass:\"primary white--text\"},[_vm._v(\" Ethiopian Calendar\"),_c('v-spacer'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"dark\":\"\",\"icon\":\"\",\"group\":\"\",\"small\":\"\"},on:{\"click\":function($event){_vm.showGregorian = !_vm.showGregorian}}},[(!_vm.showGregorian)?_c('v-icon',[_vm._v(\"mdi-calendar-multiple\")]):_c('v-icon',[_vm._v(\"mdi-calendar\")])],1)],1),(_vm.pickerType==='year')?_c('v-card-text',[_c('br'),_c('v-text-field',{attrs:{\"clearable\":\"\",\"type\":\"number\",\"disabled\":_vm.disabled,\"label\":_vm.label,\"min\":_vm.minYear,\"max\":_vm.maxYear,\"rules\":_vm.rules,\"error-messages\":_vm.errors,\"dense\":\"\"},on:{\"change\":function($event){_vm.errors = []}},model:{value:(_vm.etValue),callback:function ($$v) {_vm.etValue=$$v},expression:\"etValue\"}})],1):_c('v-ethiopian-date-picker',{ref:\"etPicker\",attrs:{\"label\":\"Ethiopian\",\"color\":\"secondary\",\"landscape\":_vm.$vuetify.breakpoint.smAndUp,\"max\":_vm.maxValueETDateTime,\"min\":_vm.minValueETDateTime,\"type\":_vm.pickerType,\"disabled\":_vm.disabled,\"locale\":\"am\"},on:{\"change\":_vm.save},model:{value:(_vm.etValue),callback:function ($$v) {_vm.etValue=$$v},expression:\"etValue\"}})],1),(_vm.showGregorian)?_c('v-card',{attrs:{\"min-width\":\"300px\"}},[_c('v-card-title',{staticClass:\"primary white--text\"},[_vm._v(\" Gregorian Calendar\"),_c('v-spacer'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"dark\":\"\",\"icon\":\"\",\"group\":\"\",\"small\":\"\"},on:{\"click\":function($event){_vm.showGregorian = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),(_vm.pickerType==='year')?_c('v-card-text',[_c('br'),_c('v-text-field',{attrs:{\"clearable\":\"\",\"type\":\"number\",\"disabled\":_vm.disabled,\"label\":_vm.label,\"min\":_vm.minYear,\"max\":_vm.maxYear,\"rules\":_vm.rules,\"error-messages\":_vm.errors,\"dense\":\"\"},on:{\"change\":function($event){_vm.errors = []}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1):_c('v-date-picker',{ref:\"gPicker\",attrs:{\"color\":\"secondary\",\"landscape\":_vm.$vuetify.breakpoint.smAndUp,\"max\":_vm.dateValueMax,\"min\":_vm.dateValueMin,\"type\":_vm.pickerType,\"disabled\":_vm.disabled},on:{\"change\":_vm.save},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1):_vm._e()],1)],1):(_vm.pickerType==='year')?_c('v-card',{attrs:{\"min-width\":\"300px\"}},[_c('v-card-text',[_c('br'),_c('v-text-field',{attrs:{\"type\":\"number\",\"disabled\":_vm.disabled,\"label\":_vm.label,\"min\":_vm.minYear,\"max\":_vm.maxYear,\"rules\":_vm.rules,\"error-messages\":_vm.errors,\"dense\":\"\"},on:{\"change\":function($event){_vm.errors = []}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)],1):_c('v-date-picker',{ref:\"picker\",attrs:{\"color\":\"secondary\",\"landscape\":_vm.$vuetify.breakpoint.smAndUp,\"max\":_vm.dateValueMax,\"min\":_vm.dateValueMin,\"type\":_vm.pickerType,\"disabled\":_vm.disabled},on:{\"change\":_vm.save},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)]},proxy:true},{key:\"header\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.$t((\"App.fhir-date-time.\" + _vm.label)))+\" \")]},proxy:true},{key:\"value\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.displayValue)+\" \")]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ihris-element :edit=\"edit\" :loading=\"false\">\n    <template #form>\n     <v-menu \n        ref=\"menu\" \n        v-model=\"menu\" \n        :close-on-content-click=\"false\" \n        transition=\"scale-transition\" \n        offset-y \n        min-width=\"290px\"\n      >\n        <template v-slot:activator=\"{ on }\">\n          <v-text-field\n            v-model=\"displayValue\"\n            :label=\"$t(`App.fhir-date-time.${label}`)\"\n            prepend-inner-icon=\"mdi-calendar\"\n            readonly\n            v-on=\"on\"\n            outlined\n            hide-details=\"auto\"\n            :rules=\"rules\"\n            :error-messages=\"errors\"\n            dense\n          >\n            <template #label>{{$t(`App.fhir-date-time.${label}`)}} <span v-if=\"required\" class=\"red--text font-weight-bold\">*</span></template>\n          </v-text-field>\n        </template>\n\n        <v-container class=\"ma-0 pa-0\" v-if=\"isEthiopian\">\n          <v-row no-gutters>\n            <v-card min-width=\"300px\">\n              <v-card-title class=\"primary white--text\">\n                Ethiopian Calendar<v-spacer/><v-btn\n                  dark\n                  class=\"white--text\"\n                  icon\n                  @click=\"showGregorian = !showGregorian\"\n                  group\n                  small\n                  ><v-icon v-if=\"!showGregorian\" >mdi-calendar-multiple</v-icon><v-icon v-else>mdi-calendar</v-icon></v-btn>\n              </v-card-title>\n              <v-card-text v-if=\"pickerType==='year'\">\n                <br />\n                <v-text-field \n                  v-model=\"etValue\" \n                  clearable\n                  type=\"number\" \n                  :disabled=\"disabled\" \n                  :label=\"label\" \n                  :min=\"minYear\" \n                  :max=\"maxYear\" \n                  :rules=\"rules\" \n                  :error-messages=\"errors\"\n                  @change=\"errors = []\"\n                  dense\n                >\n                </v-text-field>\n              </v-card-text>\n              <v-ethiopian-date-picker\n                v-else\n                ref=\"etPicker\"\n                label=\"Ethiopian\"\n                color=\"secondary\"\n                :landscape=\"$vuetify.breakpoint.smAndUp\"\n                v-model=\"etValue\"\n                :max=\"maxValueETDateTime\"\n                :min=\"minValueETDateTime\"\n                :type=\"pickerType\"\n                :disabled=\"disabled\"\n                @change=\"save\"\n                locale=\"am\"\n                ></v-ethiopian-date-picker>\n            </v-card>\n            <v-card v-if=\"showGregorian\" min-width=\"300px\">\n              <v-card-title class=\"primary white--text\">\n                Gregorian Calendar<v-spacer/><v-btn\n                  dark\n                  class=\"white--text\"\n                  icon\n                  @click=\"showGregorian = false\"\n                  group\n                  small\n                  ><v-icon>mdi-close</v-icon></v-btn>\n              </v-card-title>\n              <v-card-text v-if=\"pickerType==='year'\">\n                <br />\n                <v-text-field \n                  v-model=\"value\" \n                  clearable\n                  type=\"number\" \n                  :disabled=\"disabled\" \n                  :label=\"label\" \n                  :min=\"minYear\" \n                  :max=\"maxYear\" \n                  :rules=\"rules\" \n                  :error-messages=\"errors\"\n                  @change=\"errors = []\"\n                  dense\n                >\n                </v-text-field>\n              </v-card-text>\n              <v-date-picker\n                v-else\n                ref=\"gPicker\"\n                color=\"secondary\"\n                :landscape=\"$vuetify.breakpoint.smAndUp\"\n                v-model=\"value\"\n                :max=\"dateValueMax\"\n                :min=\"dateValueMin\"\n                :type=\"pickerType\"\n                :disabled=\"disabled\"\n                @change=\"save\"\n                ></v-date-picker>\n            </v-card>\n          </v-row>\n        </v-container>\n        <v-card min-width=\"300px\" v-else-if=\"pickerType==='year'\" >\n          <v-card-text>\n            <br />\n            <v-text-field \n              v-model=\"value\" \n              type=\"number\" \n              :disabled=\"disabled\" \n              :label=\"label\" \n              :min=\"minYear\" \n              :max=\"maxYear\" \n              :rules=\"rules\" \n              :error-messages=\"errors\"\n              @change=\"errors = []\"\n              dense\n            >\n            </v-text-field>\n          </v-card-text>\n        </v-card>\n        <v-date-picker\n          v-else\n          ref=\"picker\"\n          color=\"secondary\"\n          :landscape=\"$vuetify.breakpoint.smAndUp\"\n          v-model=\"value\"\n          :max=\"dateValueMax\"\n          :min=\"dateValueMin\"\n          :type=\"pickerType\"\n          :disabled=\"disabled\"\n          @change=\"save\"\n        ></v-date-picker>\n\n      </v-menu>\n    </template>\n    <template #header>\n      {{$t(`App.fhir-date-time.${label}`)}}\n    </template>\n    <template #value>\n      {{displayValue}}\n    </template>\n  </ihris-element>\n</template>\n\n<script>\nimport IhrisElement from \"../ihris/ihris-element.vue\"\nimport VEthiopianDatePicker from \"vuetify-ethiopian-calendar\"\nimport ethiopic from \"ethiopic-calendar\"\n\nexport default {\n  name: \"fhir-date-time\",\n  props: [\"field\",\"min\",\"max\",\"base-min\",\"base-max\", \"label\", \"slotProps\", \"path\", \"edit\",\"sliceName\", \n    \"minValueDateTime\", \"maxValueDateTime\", \"minValueQuantity\", \"maxValueQuantity\", \"displayType\",\"readOnlyIfSet\", \"calendar\",\n    \"constraints\"],\n  components: {\n    IhrisElement,\n    VEthiopianDatePicker\n  },\n  data: function() {\n    return {\n      value: null,\n      etValue: null,\n      menu: false,\n      source: { path: \"\", data: {} },\n      qField: \"valueDateTime\",\n      pickerType: \"date\",\n      disabled: false,\n      showGregorian: false,\n      errors: [],\n      lockWatch: false\n    }\n  },\n  created: function() {\n    //console.log(\"CREATE DATETIME\",this.field,this.slotProps)\n    this.setupData()\n  },\n  computed: {\n    dateValueMax: function() {\n      if ( this.maxValueQuantity ) {\n        let maxDate = this.convertQuantity( this.maxValueQuantity, \"add\" )\n        if ( maxDate ) {\n          return maxDate\n        }\n      } \n      if ( this.maxValueDate ) {\n        return this.maxValueDate\n      }\n      return undefined\n    },\n    dateValueMin: function() {\n      if ( this.minValueQuantity ) {\n        let minDate = this.convertQuantity( this.minValueQuantity, \"subtract\" )\n        if ( minDate ) {\n          return minDate\n        }\n      } else if ( this.minValueDate ) {\n        return this.minValueDate\n      }\n      return undefined\n    },\n    minYear: function() {\n      return this.dateValueMin ? this.dateValueMin.substring(0,4) : undefined\n    },\n    maxYear: function() {\n      return this.dateValueMax ? this.dateValueMax.substring(0,4) : undefined\n    },\n    minYearET: function() {\n      return this.minValueETDate ? this.minValueETDate.substring(0,4) : undefined\n    },\n    maxYearET: function() {\n      return this.maxValueETDate ? this.maxValueETDate.substring(0,4) : undefined\n    },\n    isEthiopian: function() {\n      return this.calendar === \"Ethiopian\"\n    },\n    minValueETDateTime: function() {\n      if ( this.dateValueMin ) {\n        return this.convertGE( this.dateValueMin )\n      } else {\n        return null\n      }\n    },\n    maxValueETDateTime: function() {\n      if ( this.dateValueMax ) {\n        return this.convertGE( this.dateValueMax )\n      } else {\n        return null\n      }\n    },\n    displayValue: function() {\n      if ( this.isEthiopian ) {\n        return this.value && \"Ethiopian: \"+this.etValue + \" Gregorian: \" + this.value \n      } else {\n        return this.value\n      }\n    },\n    index: function() {\n      if ( this.slotProps && this.slotProps.input ) return this.slotProps.input.index\n      else return undefined\n    },\n    required: function() {\n      return (this.index || 0) < this.min\n    },\n    rules: function() {\n      if ( this.required ) {\n        return [ v => !!v || this.label+\" is required\" ]\n      } else {\n        return []\n      }\n    }\n  },\n  watch: {\n    menu (val) {\n      if ( this.isEthiopian ) {\n        !this.value && val && setTimeout(() => (this.$refs.etPicker.activePicker = 'YEAR'))\n      } else {\n        !this.value && val && setTimeout(() => (this.$refs.picker.activePicker = 'YEAR'))\n      }\n    },\n    showGregorian (val) {\n      !this.value && val && setTimeout(() => (this.$refs.gPicker.activePicker = 'YEAR'))\n    },\n    slotProps: {\n      handler() {\n        //console.log(\"WATCH DATETIME\",this.field,this.path,this.slotProps)\n        if ( !this.lockWatch ) {\n          this.setupData()\n        }\n      },\n      deep: true\n    },\n    value (val) {\n      if ( !val ) {\n        this.etValue = val\n      } else if ( this.pickerType === 'year' ) {\n        if ( val.length === 4 ) {\n          this.etValue = this.convertGE( val )\n        }\n       } else {\n        this.etValue = this.convertGE( val )\n      }\n    },\n    etValue (val) {\n      if ( !val ) {\n        this.value = val\n      } else if ( this.pickerType === 'year' ) {\n        if ( val.length === 4 ) {\n          this.value = this.convertEG( val )\n        }\n      } else {\n        this.value = this.convertEG( val )\n      }\n    }\n  },\n  methods: {\n    convertQuantity(val, direction) {\n      const unitsofmeasure = {\n        'a': 'years',\n        'mo': 'months',\n        'wk': 'weeks',\n        'd': 'days',\n      }\n      const quant = /(-?\\d+)([a-z]{1,3})/\n\n      let match = val.match( quant )\n      if ( match.length === 3 ) {\n        try {\n          let value = match[1]\n          let unit = unitsofmeasure[ match[2] ]\n          if ( direction === \"subtract\" ) {\n            return this.$moment( this.$moment().subtract(value, unit) ).format('YYYY-MM-DD')\n          } else {\n            return this.$moment( this.$moment().add(value, unit) ).format('YYYY-MM-DD')\n          }\n        } catch (e) {\n          console.log(\"Failed to get date from quantity\",e)\n        }\n      }\n      return undefined\n    },\n    convertGE(val) {\n      if ( !val ) return val\n      const [ year, month, day ] = val.split('-').map(Number)\n      if ( this.pickerType === 'year' ) {\n        let etDate = ethiopic.ge( year, month || 6, day || 1) // so it will be the same year in both directions\n        return etDate.year.toString().padStart(4,'0') \n      } else {\n        let etDate = ethiopic.ge( year, month || 1, day || 1)\n        return etDate.year.toString().padStart(4,'0') + \"-\" + etDate.month.toString().padStart(2,'0') + \"-\" + etDate.day.toString().padStart(2, '0')\n      }\n    },\n    convertEG(val) {\n      if ( !val ) return val\n      const [ etYear, etMonth, etDay ] = val.split('-').map(Number)\n      if ( this.pickerType === 'year' ) {\n        let gDate = ethiopic.eg( etYear, etMonth|| 6, etDay || 1) // so it will be the same year in both directions\n        return gDate.year.toString().padStart(4,'0') \n      } else {\n        let gDate = ethiopic.eg( etYear, etMonth || 1, etDay || 1)\n        return gDate.year.toString().padStart(4,'0') + \"-\" + gDate.month.toString().padStart(2,'0') + \"-\" + gDate.day.toString().padStart(2, '0')\n      }\n    },\n    setupData() {\n      if ( this.displayType ) {\n        this.pickerType = this.displayType\n      }\n      if ( this.slotProps && this.slotProps.source ) {\n        this.source = { path: this.slotProps.source.path+\".\"+this.field, data: {} }\n        if ( this.slotProps.source.fromArray ) {\n          this.source.data = this.slotProps.source.data\n          this.value = this.source.data\n          this.lockWatch = true\n          //console.log(\"SET value to \", this.source.data, this.slotProps.input)\n        } else {\n          let expression = this.$fhirutils.pathFieldExpression( this.field )\n          this.source.data = this.$fhirpath.evaluate( this.slotProps.source.data, expression )\n          //console.log(\"STR FHIRPATH\", this.slotProps.source.data, this.field)\n          if ( this.source.data.length == 1 ) {\n            this.value = this.source.data[0]\n            this.lockWatch = true\n          }\n        }\n        this.disabled = this.readOnlyIfSet && (!!this.value)\n        //console.log(this.source)\n      }\n    },\n    save (date) {\n      this.errors = []\n      this.$refs.menu.save(date)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-date-time.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-date-time.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fhir-date-time.vue?vue&type=template&id=3cb5eb81&\"\nimport script from \"./fhir-date-time.vue?vue&type=script&lang=js&\"\nexport * from \"./fhir-date-time.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VContainer,VDatePicker,VIcon,VMenu,VRow,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._t(\"default\",null,{\"source\":_vm.source})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <slot :source=\"source\"></slot>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"fhir-extension\",\n  props: [\"field\",\"sliceName\",\"min\",\"max\",\"base-min\",\"base-max\",\"profile\",\"slotProps\",\"path\", \"edit\",\"constraints\"],\n  data: function() {\n    return {\n      source: { path: \"\", data: [] },\n      errors: []\n    }\n  },\n  created: function() {\n    this.setupData()\n  },\n  watch: {\n    slotProps: {\n      handler() {\n        //console.log(\"WATCH EXTENSION\",this.path,this.slotProps)\n        this.setupData()\n      },\n      deep: true\n    }\n  },\n  methods: {\n    setupData: function() {\n      if ( this.slotProps && this.slotProps.source ) {\n        this.source = { path: this.slotProps.source.path+\".\"+this.field, data: {} }\n        if ( this.slotProps.source.fromArray ) {\n          this.source.data = this.slotProps.source.data\n        } else {\n          let url\n          if ( this.profile ) {\n            url = this.profile\n          } else {\n            url = this.sliceName\n          }\n          let expression = this.field.replace(/([^:]+):(.+)/, \"$1.where(url='\"+url+\"')\")\n          this.source.data = this.$fhirpath.evaluate( this.slotProps.source.data, expression )\n        }\n        //console.log(this.source)\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-extension.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-extension.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fhir-extension.vue?vue&type=template&id=28ee29bb&\"\nimport script from \"./fhir-extension.vue?vue&type=script&lang=js&\"\nexport * from \"./fhir-extension.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"my-3\"},[_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_vm._t(\"default\",null,{\"source\":_vm.source}),_c('v-overlay',{attrs:{\"value\":_vm.overlay}},[_c('v-progress-circular',{attrs:{\"color\":\"primary\",\"indeterminate\":\"\",\"size\":\"50\"}})],1),_c('v-navigation-drawer',{staticClass:\"primary darken-1 white--text\",staticStyle:{\"z-index\":\"3\"},attrs:{\"app\":\"\",\"clipped\":\"\",\"permanent\":\"\",\"right\":\"\"}},[_c('v-list',{staticClass:\"white--text\"},[(\n            _vm.$router.history.current.path ===\n              (\"/resource/view/practitioner/\" + (this.fhirId))\n          )?_c('v-list-item',[_c('v-btn',{staticClass:\"primary\",attrs:{\"loading\":_vm.loadingId},on:{\"click\":_vm.printEmployeeId},scopedSlots:_vm._u([{key:\"loader\",fn:function(){return [_c('span',{staticClass:\"custom-loader\"},[_c('v-icon',{attrs:{\"light\":\"\"}},[_vm._v(\"mdi-cached\")])],1)]},proxy:true}],null,false,1919056595)},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"right\":\"\"}},[_vm._v(\" mdi-card-account-details-outline \")]),_vm._v(\" \"+_vm._s(_vm.$t(\"App.ihris-resource.GenerateId\"))+\" \")],1)],1):_vm._e(),(\n            _vm.$router.history.current.path ===\n            (\"/resource/view/practitioner/\" + (this.fhirId))\n          )?_c('v-list-item',[_c('v-btn',{staticClass:\"primary\",attrs:{\"loading\":_vm.loadingCv},on:{\"click\":_vm.printEmployeeCv},scopedSlots:_vm._u([{key:\"loader\",fn:function(){return [_c('span',{staticClass:\"custom-loader\"},[_c('v-icon',{attrs:{\"light\":\"\"}},[_vm._v(\"mdi-cached\")])],1)]},proxy:true}],null,false,1919056595)},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"dark\":\"\",\"right\":\"\"}},[_vm._v(\" mdi-file-pdf-box\")]),_vm._v(\" \"+_vm._s(_vm.$t(\"App.ihris-resource.GenerateCv\"))+\" \")],1)],1):_vm._e(),_c('v-list-item',[(!_vm.edit)?_c('v-btn',{staticClass:\"secondary\",attrs:{\"dark\":\"\"},on:{\"click\":function($event){return _vm.$emit('set-edit', !_vm.edit)}}},[_c('v-icon',{attrs:{\"light\":\"\"}},[_vm._v(\"mdi-pencil\")]),_c('span',[_vm._v(_vm._s(_vm.$t(\"App.ihris-resource.Edit\")))])],1):_c('v-btn',{staticClass:\"secondary\",attrs:{\"dark\":\"\"},on:{\"click\":function($event){return _vm.$router.go(0)}}},[_c('v-icon',{attrs:{\"light\":\"\"}},[_vm._v(\"mdi-pencil-off\")]),_c('span',[_vm._v(_vm._s(_vm.$t(\"App.ihris-resource.Cancel\")))])],1),_c('v-spacer'),(_vm.edit)?[(_vm.valid)?_c('v-btn',{staticClass:\"success darken-1\",attrs:{\"disabled\":!_vm.valid,\"dark\":\"\"},on:{\"click\":function($event){return _vm.processFHIR()}}},[_c('v-icon',{attrs:{\"light\":\"\"}},[_vm._v(\"mdi-content-save\")]),_c('span')],1):_c('v-btn',{staticClass:\"warning\",attrs:{\"dark\":\"\"},on:{\"click\":function($event){return _vm.$refs.form.validate()}}},[_c('v-icon',{attrs:{\"light\":\"\"}},[_vm._v(\"mdi-content-save\")]),_c('span',[_vm._v(_vm._s(_vm.$t(\"App.ihris-resource.Save\")))])],1)]:_vm._e()],2),_c('v-divider',{attrs:{\"color\":\"white\"}}),(!_vm.edit && _vm.links && _vm.links.length)?_vm._l((_vm.links),function(link,idx){return _c('v-list-item',{key:link.url},[_c('v-btn',{key:link.url,staticClass:\"primary\",attrs:{\"text\":!link.button,\"to\":_vm.getLinkUrl(link)}},[(link.icon)?_c('v-icon',{attrs:{\"light\":\"\"}},[_vm._v(_vm._s(link.icon))]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.linktext[idx])+\" \")],1)],1)}):_vm._e(),(_vm.sectionMenu)?_c('v-subheader',{staticClass:\"white--text\"},[_c('h2',[_vm._v(_vm._s(_vm.$t(\"App.ihris-resource.Sections\")))])]):_vm._e(),_vm._l((_vm.sectionMenu),function(section){return _c('v-list-item',{key:section.name,class:'#section-' + section.name === _vm.path ? 'highlighted' : '',attrs:{\"href\":'#section-'+section.name}},[(!_vm.edit || !section.secondary)?_c('v-list-item-content',{staticClass:\"white--text\"},[_c('v-list-item-title',{staticClass:\"text-uppercase\"},[_c('h4',[_vm._v(_vm._s(_vm.$t((\"App.ihris-resource.\" + (section.title)))))])]),_c('v-list-item-subtitle',{staticClass:\"white--text\"},[_vm._v(_vm._s(_vm.$t((\"App.ihris-resource.\" + (section.desc))))+\" \")])],1):_vm._e()],1)})],2)],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style>\n.highlighted {\n  background-color: #5396dc !important;\n}\n</style>\n<template>\n  <v-container class=\"my-3\">\n\n    <v-form\n        ref=\"form\"\n        v-model=\"valid\"\n    >\n\n      <slot :source=\"source\"></slot>\n      <v-overlay :value=\"overlay\">\n        <v-progress-circular\n            color=\"primary\"\n            indeterminate\n            size=\"50\"\n        ></v-progress-circular>\n      </v-overlay>\n\n      <v-navigation-drawer\n          app\n          class=\"primary darken-1 white--text\"\n          clipped\n          permanent\n          right\n          style=\"z-index: 3;\"\n      >\n        <v-list class=\"white--text\">\n          <v-list-item\n              v-if=\"\n              $router.history.current.path ===\n                `/resource/view/practitioner/${this.fhirId}`\n            \"\n          >\n            <v-btn\n                :loading=\"loadingId\"\n                class=\"primary\"\n                @click=\"printEmployeeId\"\n            >\n              <v-icon class=\"mr-2\" right>\n                mdi-card-account-details-outline\n              </v-icon>\n              {{$t(`App.ihris-resource.GenerateId`)}}\n              <template v-slot:loader>\n                <span class=\"custom-loader\">\n                  <v-icon light>mdi-cached</v-icon>\n                </span>\n              </template>\n            </v-btn>\n          </v-list-item>\n          <v-list-item\n              v-if=\"\n              $router.history.current.path ===\n              `/resource/view/practitioner/${this.fhirId}`\n            \"\n          >\n            <v-btn\n                :loading=\"loadingCv\"\n                class=\"primary\"\n                @click=\"printEmployeeCv\"\n            >\n              <v-icon class=\"mr-2\" dark right> mdi-file-pdf-box</v-icon>\n              {{$t(`App.ihris-resource.GenerateCv`)}}\n              <template v-slot:loader>\n                <span class=\"custom-loader\">\n                  <v-icon light>mdi-cached</v-icon>\n                </span>\n              </template>\n            </v-btn>\n          </v-list-item>\n          <v-list-item>\n            <v-btn v-if=\"!edit\" class=\"secondary\" dark @click=\"$emit('set-edit', !edit)\">\n              <v-icon light>mdi-pencil</v-icon>\n              <span>{{ $t(`App.ihris-resource.Edit`) }}</span>\n            </v-btn>\n            <v-btn v-else class=\"secondary\" dark @click=\"$router.go(0)\">\n              <v-icon light>mdi-pencil-off</v-icon>\n              <span>{{ $t(`App.ihris-resource.Cancel`) }}</span>\n            </v-btn>\n            <v-spacer></v-spacer>\n            <template v-if=\"edit\">\n              <v-btn v-if=\"valid\" :disabled=\"!valid\" class=\"success darken-1\" dark @click=\"processFHIR()\">\n                <v-icon light>mdi-content-save</v-icon>\n                <span></span>\n              </v-btn>\n              <v-btn v-else class=\"warning\" dark @click=\"$refs.form.validate()\">\n                <v-icon light>mdi-content-save</v-icon>\n                <span>{{ $t(`App.ihris-resource.Save`) }}</span>\n              </v-btn>\n            </template>\n          </v-list-item>\n          <v-divider color=\"white\"></v-divider>\n          <template v-if=\"!edit && links && links.length\">\n            <v-list-item v-for=\"(link,idx) in links\" :key=\"link.url\">\n              <v-btn :key=\"link.url\" :text=\"!link.button\" :to=\"getLinkUrl(link)\" class=\"primary\">\n                <v-icon v-if=\"link.icon\" light>{{ link.icon }}</v-icon>\n                {{ linktext[idx] }}\n              </v-btn>\n            </v-list-item>\n          </template>\n          <v-subheader v-if=\"sectionMenu\" class=\"white--text\"><h2>{{ $t(`App.ihris-resource.Sections`) }}</h2>\n          </v-subheader>\n          <v-list-item v-for=\"section in sectionMenu\"\n                       :key=\"section.name\"\n                       :class=\"'#section-' + section.name === path ? 'highlighted' : ''\"\n                       :href=\"'#section-'+section.name\"\n          >\n            <v-list-item-content v-if=\"!edit || !section.secondary\" class=\"white--text\">\n              <v-list-item-title class=\"text-uppercase\"><h4>{{ $t(`App.ihris-resource.${section.title}`) }}</h4>\n              </v-list-item-title>\n              <v-list-item-subtitle class=\"white--text\">{{ $t(`App.ihris-resource.${section.desc}`) }}\n              </v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n\n      </v-navigation-drawer>\n    </v-form>\n  </v-container>\n\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"ihris-resource\",\n  props: [\"title\", \"field\", \"fhir-id\", \"page\", \"profile\", \"section-menu\", \"edit\", \"links\", \"constraints\"],\n  data: function () {\n    return {\n      fhir: {},\n      orig: {},\n      valid: true,\n      source: {data: {}, path: \"\"},\n      path: \"\",\n      loading: false,\n      overlay: false,\n      isEdit: false,\n      linktext: [],\n      advancedValid: true,\n      loadingId: false,\n      loadingCv: false,\n    }\n  },\n  mounted() {\n    if (!this.isQuestionnaire) {\n      window.addEventListener(\"scroll\", this.handleScroll);\n    } else {\n      window.removeEventListener(\"scroll\", this.handleScroll);\n    }\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  },\n  created: function () {\n    if (this.fhirId) {\n      this.loading = true\n      //console.log(\"getting\",this.field,this.fhirId)\n      fetch(\"/fhir/\" + this.field + \"/\" + this.fhirId).then(response => {\n        response.json().then(data => {\n          //this.$store.commit('setCurrentResource', data)\n          this.orig = data\n          this.source = {data: data, path: this.field}\n          this.setLinkText()\n          this.loading = false\n        }).catch(err => {\n          console.log(this.field, this.fhirId, err)\n        })\n      }).catch(err => {\n        console.log(this.field, this.fhirId, err)\n      })\n    } else if (this.$route.query) {\n      let presets = {\n        resourceType: this.field\n      }\n      let hasPresets = false\n      for (let path of Object.keys(this.$route.query)) {\n        if (path.startsWith(this.field + \".\")) {\n          hasPresets = true\n          let elements = path.substring(this.field.length + 1).split('.')\n          let last = elements.pop()\n          let current = presets\n          for (let element of elements) {\n            if (element.includes('[')) {\n              try {\n                let parts = element.split('[')\n                let name = parts[0]\n                let idx = parts[1].slice(0, -1)\n                if (!current.hasOwnProperty(name)) {\n                  current[name] = []\n                }\n                if (idx) {\n                  let next = {}\n                  current[name][parseInt(idx)] = next\n                  current = next\n                } else {\n                  let next = {}\n                  current[name].push(next)\n                  current = next\n                }\n              } catch (err) {\n                console.log(\"Unable to process\", path)\n\n              }\n            } else {\n              if (!current.hasOwnProperty(element)) {\n                current[element] = {}\n                current = current[element]\n              }\n            }\n          }\n          if (last.includes('[')) {\n            try {\n              let parts = last.split('[')\n              let name = parts[0]\n              let idx = parts[1].slice(0, -1)\n              if (!current.hasOwnProperty(name)) {\n                current[name] = []\n              }\n              if (idx) {\n                current[name][parseInt(idx)] = this.$route.query[path]\n              } else {\n                current[name].push(this.$route.query[path])\n              }\n\n            } catch (err) {\n              console.log(\"Unable to process\", path)\n\n            }\n          } else {\n            current[last] = this.$route.query[path]\n          }\n        }\n      }\n      if (hasPresets) {\n        this.source = {data: presets, path: this.field}\n      }\n    }\n  },\n  computed: {\n    hasFhirId: function () {\n      if (this.fhirId == '') {\n        return false\n      } else if (!this.fhirId) {\n        return false\n      } else {\n        return true\n      }\n    }\n    /*\n    source: function() {\n      return this.$store.state.fhir\n    }\n    */\n  },\n  methods: {\n    handleScroll() {\n      this.hasScrolled = window.top.scrollY >= 100;\n      this.sectionMenu.map((data) => {\n        let divs = document.getElementById(`section-${data.name}`);\n        let sectionTop = divs.offsetTop;\n        if (pageYOffset >= sectionTop) {\n          this.path = `#section-${data.name}`;\n        }\n      });\n    },\n    getLinkField: function (field) {\n      let content = this.$fhirpath.evaluate(this.source.data, field)\n      if (content) {\n        return content[0]\n      } else {\n        return false\n      }\n    },\n    getLinkUrl: function (link) {\n      let field\n      if (link.field) {\n        field = this.getLinkField(link.field)\n      }\n      if (field) {\n        if (field.includes('/')) {\n          let ref = field.split('/')\n          field = ref[1]\n        }\n        return link.url.replace(\"FIELD\", field)\n      } else {\n        return link.url\n      }\n    },\n    setLinkText: function () {\n      for (let idx in this.links) {\n        let link = this.links[idx]\n        if (link.text) {\n          this.linktext[idx] = link.text\n        } else if (link.field) {\n          let field = this.getLinkField(link.field)\n          if (field) {\n            this.$fhirutils.lookup(field).then(display => {\n              this.$set(this.linktext, idx, display)\n            })\n          }\n        }\n      }\n    },\n    processFHIR: async function () {\n      this.$refs.form.validate()\n      if (!this.valid) return\n      this.advancedValid = true\n      this.overlay = true\n      this.loading = true\n\n      //const processChildren = function( parent, obj, children ) {\n      const processChildren = async (parent, obj, children) => {\n        //console.log(\"called on \"+parent)\n\n        for (let child of children) {\n\n          let fullField = parent\n\n          let next = obj\n\n          if (child.field && !child.fieldType /* ignore arrays */) {\n            //console.log(\"working on \"+parent+\" . \"+child.field)\n            let field\n            if (child.sliceName) {\n              if (child.field.startsWith(\"value[x]\")) {\n                field = child.field.substring(9)\n                fullField += \".\" + field\n              } else {\n                field = child.field.replace(\":\" + child.sliceName, \"\")\n                fullField += \".\" + field\n              }\n            } else {\n              field = child.field\n              fullField += \".\" + field\n            }\n            if (child.max !== \"1\" || child.baseMax !== \"1\") {\n              if (!obj.hasOwnProperty(field)) {\n                next[field] = []\n              }\n            } else {\n              next[field] = {}\n            }\n            //console.log(fullField)\n            //console.log(child.max, child.baseMax)\n            //console.log(child)\n            if (child.hasOwnProperty(\"value\")) {\n              //console.log( fullField +\"=\"+ child.value )\n              if (Array.isArray(next[field])) {\n                next[field].push(child.value)\n              } else {\n                next[field] = child.value\n              }\n              next = next[field]\n            } else {\n              if (Array.isArray(next[field])) {\n                let sub = {}\n                if (child.profile) {\n                  sub.url = child.profile\n                } else if (field === \"extension\" && child.sliceName) {\n                  sub.url = child.sliceName\n                }\n                next[field].push(sub)\n                next = sub\n              } else {\n                next = next[field]\n              }\n            }\n          }\n\n          if (child.$children) {\n            try {\n              await processChildren(fullField, next, child.$children)\n            } catch (err) {\n              this.advancedValid = false\n              console.log(err)\n            }\n          }\n          if (child.constraints) {\n            child.errors = []\n            try {\n              this.advancedValid = this.advancedValid && await this.$fhirutils.checkConstraints(child.constraints,\n                  this.constraints, next, child.errors, this.fhirId)\n            } catch (err) {\n              this.advancedValid = false\n              child.errors.push(\"An unknown error occurred.\")\n              console.log(err)\n            }\n          }\n\n        }\n\n      }\n\n      //console.log(this.field)\n      this.fhir = {\n        resourceType: this.field,\n        meta: {\n          profile: [this.profile]\n        }\n      }\n      //console.log(this)\n      try {\n        await processChildren(this.field, this.fhir, this.$children)\n      } catch (err) {\n        this.advancedValid = false\n        console.log(err)\n      }\n      if (!this.advancedValid) {\n        this.overlay = false\n        this.loading = false\n        this.$store.commit('setMessage', {type: 'error', text: 'There were errors on the form.'})\n        return\n      }\n      console.log(\"FINISHED PROCESS AND CHECK.\")\n      let url = \"/fhir/\" + this.field\n      let opts = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/fhir+json\"\n        },\n        redirect: 'manual',\n      }\n      if (this.fhirId) {\n        this.fhir.id = this.fhirId\n        url += \"/\" + this.fhirId\n        opts.method = \"PUT\"\n      }\n      opts.body = JSON.stringify(this.fhir)\n      fetch(url, opts).then(response => {\n        //console.log(response.headers)\n        if (response.status === 201 || response.status === 200) {\n          response.json().then(data => {\n            this.overlay = false\n            this.loading = false\n\n            if (this.fhirId) {\n              this.$store.commit(\"setMessage\", {\n                type: \"success\",\n                text: \"Update successful.\",\n              });\n              setTimeout(() => this.$router.go(0), 1000);\n            } else {\n              this.$router.push({name: \"resource_view\", params: {page: this.page, id: data.id}})\n            }\n          })\n        }\n      })\n      //console.log(this.fhir)\n\n      /*\n      console.log(this.$scopedSlots.default())\n      processSlots( this.field, this.$scopedSlots.default() )\n      */\n    },\n    printEmployeeId() {\n      this.loadingId = true;\n      axios({\n        url: `/config/employeeId/${this.fhirId}`,\n        method: \"GET\",\n        responseType: \"blob\",\n      })\n          .then((response) => {\n            let blob = new Blob([response.data], { type: \"application/png\" });\n            let link = document.createElement(\"a\");\n            link.href = window.URL.createObjectURL(blob);\n            link.download = `employee_identification_card_${this.fhirId}.png`;\n            link.click();\n            this.loadingId = false;\n          })\n          .catch((e) => {\n            console.log(e);\n            this.loadingId = false;\n          });\n    },\n    printEmployeeCv() {\n      this.loadingCv = true;\n      axios({\n        url: `/config/employeeCv/${this.fhirId}`,\n        method: \"GET\",\n        responseType: \"blob\",\n      })\n          .then((response) => {\n            let blob = new Blob([response.data], { type: \"application/pdf\" });\n            let link = document.createElement(\"a\");\n            link.href = window.URL.createObjectURL(blob);\n            link.download = `employee_resume_${this.fhirId}.pdf`;\n            link.click();\n            this.loadingCv = false;\n          })\n          .catch((e) => {\n            console.log(e);\n            this.loadingCv = false;\n          });\n    },\n  }\n}\n\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ihris-resource.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ihris-resource.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ihris-resource.vue?vue&type=template&id=488d81f3&\"\nimport script from \"./ihris-resource.vue?vue&type=script&lang=js&\"\nexport * from \"./ihris-resource.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ihris-resource.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\ninstallComponents(component, {VBtn,VContainer,VDivider,VForm,VIcon,VList,VListItem,VListItemContent,VListItemSubtitle,VListItemTitle,VNavigationDrawer,VOverlay,VProgressCircular,VSpacer,VSubheader})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ihris-resource.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ihris-resource.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ihris-element',{attrs:{\"edit\":_vm.edit,\"loading\":false},scopedSlots:_vm._u([{key:\"form\",fn:function(){return [_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-text-field',_vm._g({attrs:{\"label\":_vm.$t((\"App.fhir-date.\" + _vm.label)),\"prepend-inner-icon\":\"mdi-calendar\",\"readonly\":\"\",\"outlined\":\"\",\"hide-details\":\"auto\",\"rules\":_vm.rules,\"error-messages\":_vm.errors,\"dense\":\"\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(_vm._s(_vm.$t((\"App.fhir-date.\" + _vm.label)))+\" \"),(_vm.required)?_c('span',{staticClass:\"red--text font-weight-bold\"},[_vm._v(\"*\")]):_vm._e()]},proxy:true}],null,true),model:{value:(_vm.displayValue),callback:function ($$v) {_vm.displayValue=$$v},expression:\"displayValue\"}},on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[(_vm.isEthiopian)?_c('v-container',{staticClass:\"ma-0 pa-0\"},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-card',{attrs:{\"min-width\":\"300px\"}},[_c('v-card-title',{staticClass:\"primary white--text\"},[_vm._v(\" Ethiopian Calendar\"),_c('v-spacer'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"dark\":\"\",\"icon\":\"\",\"group\":\"\",\"small\":\"\"},on:{\"click\":function($event){_vm.showGregorian = !_vm.showGregorian}}},[(!_vm.showGregorian)?_c('v-icon',[_vm._v(\"mdi-calendar-multiple\")]):_c('v-icon',[_vm._v(\"mdi-calendar\")])],1)],1),(_vm.pickerType==='year')?_c('v-card-text',[_c('br'),_c('v-text-field',{attrs:{\"clearable\":\"\",\"type\":\"number\",\"disabled\":_vm.disabled,\"label\":_vm.label,\"min\":_vm.minYearET,\"max\":_vm.maxYearET,\"rules\":_vm.rules,\"error-messages\":_vm.errors,\"dense\":\"\"},on:{\"change\":function($event){_vm.errors = []}},model:{value:(_vm.etValue),callback:function ($$v) {_vm.etValue=$$v},expression:\"etValue\"}})],1):_c('v-ethiopian-date-picker',{ref:\"etPicker\",attrs:{\"label\":\"Ethiopian\",\"color\":\"secondary\",\"landscape\":_vm.$vuetify.breakpoint.smAndUp,\"max\":_vm.maxValueETDate,\"min\":_vm.minValueETDate,\"type\":_vm.pickerType,\"disabled\":_vm.disabled,\"locale\":\"am\"},on:{\"change\":_vm.save},model:{value:(_vm.etValue),callback:function ($$v) {_vm.etValue=$$v},expression:\"etValue\"}})],1),(_vm.showGregorian)?_c('v-card',{attrs:{\"min-width\":\"300px\"}},[_c('v-card-title',{staticClass:\"primary white--text\"},[_vm._v(\" Gregorian Calendar\"),_c('v-spacer'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"dark\":\"\",\"icon\":\"\",\"group\":\"\",\"small\":\"\"},on:{\"click\":function($event){_vm.showGregorian = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),(_vm.pickerType==='year')?_c('v-card-text',[_c('br'),_c('v-text-field',{attrs:{\"clearable\":\"\",\"type\":\"number\",\"disabled\":_vm.disabled,\"label\":_vm.label,\"min\":_vm.minYear,\"max\":_vm.maxYear,\"rules\":_vm.rules,\"error-messages\":_vm.errors,\"dense\":\"\"},on:{\"change\":function($event){_vm.errors = []}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1):_c('v-date-picker',{ref:\"gPicker\",attrs:{\"color\":\"secondary\",\"landscape\":_vm.$vuetify.breakpoint.smAndUp,\"max\":_vm.dateValueMax,\"min\":_vm.dateValueMin,\"type\":_vm.pickerType,\"disabled\":_vm.disabled},on:{\"change\":_vm.save},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1):_vm._e()],1)],1):(_vm.pickerType==='year')?_c('v-card',{attrs:{\"min-width\":\"300px\"}},[_c('v-card-text',[_c('br'),_c('v-text-field',{attrs:{\"type\":\"number\",\"disabled\":_vm.disabled,\"label\":_vm.label,\"min\":_vm.minYear,\"max\":_vm.maxYear,\"rules\":_vm.rules,\"error-messages\":_vm.errors,\"dense\":\"\"},on:{\"change\":function($event){_vm.errors = []}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)],1):_c('v-date-picker',{ref:\"picker\",attrs:{\"color\":\"secondary\",\"landscape\":_vm.$vuetify.breakpoint.smAndUp,\"max\":_vm.dateValueMax,\"min\":_vm.dateValueMin,\"type\":_vm.pickerType,\"disabled\":_vm.disabled},on:{\"change\":_vm.save},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)]},proxy:true},{key:\"header\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.$t((\"App.fhir-date.\" + _vm.label)))+\" \")]},proxy:true},{key:\"value\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.displayValue)+\" \")]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ihris-element :edit=\"edit\" :loading=\"false\">\n    <template #form>\n      <v-menu\n        ref=\"menu\"\n        v-model=\"menu\"\n        :close-on-content-click=\"false\"\n        transition=\"scale-transition\"\n        offset-y\n        min-width=\"290px\"\n      >\n        <template v-slot:activator=\"{ on }\">\n          <v-text-field\n            v-model=\"displayValue\"\n            :label=\"$t(`App.fhir-date.${label}`)\"\n            prepend-inner-icon=\"mdi-calendar\"\n            readonly\n            v-on=\"on\"\n            outlined\n            hide-details=\"auto\"\n            :rules=\"rules\"\n            :error-messages=\"errors\"\n            dense\n          >\n            <template #label>{{$t(`App.fhir-date.${label}`)}} <span v-if=\"required\" class=\"red--text font-weight-bold\">*</span></template>\n          </v-text-field>\n        </template>\n        <v-container class=\"ma-0 pa-0\" v-if=\"isEthiopian\">\n          <v-row no-gutters>\n            <v-card min-width=\"300px\">\n              <v-card-title class=\"primary white--text\">\n                Ethiopian Calendar<v-spacer/><v-btn\n                  dark\n                  class=\"white--text\"\n                  icon\n                  @click=\"showGregorian = !showGregorian\"\n                  group\n                  small\n                  ><v-icon v-if=\"!showGregorian\" >mdi-calendar-multiple</v-icon><v-icon v-else>mdi-calendar</v-icon></v-btn>\n              </v-card-title>\n              <v-card-text v-if=\"pickerType==='year'\">\n                <br />\n                <v-text-field\n                  v-model=\"etValue\"\n                  clearable\n                  type=\"number\"\n                  :disabled=\"disabled\"\n                  :label=\"label\"\n                  :min=\"minYearET\"\n                  :max=\"maxYearET\"\n                  :rules=\"rules\"\n                  :error-messages=\"errors\"\n                  @change=\"errors = []\"\n                  dense\n                >\n                </v-text-field>\n              </v-card-text>\n              <v-ethiopian-date-picker\n                v-else\n                ref=\"etPicker\"\n                label=\"Ethiopian\"\n                color=\"secondary\"\n                :landscape=\"$vuetify.breakpoint.smAndUp\"\n                v-model=\"etValue\"\n                :max=\"maxValueETDate\"\n                :min=\"minValueETDate\"\n                :type=\"pickerType\"\n                :disabled=\"disabled\"\n                @change=\"save\"\n                locale=\"am\"\n                ></v-ethiopian-date-picker>\n            </v-card>\n            <v-card v-if=\"showGregorian\" min-width=\"300px\">\n              <v-card-title class=\"primary white--text\">\n                Gregorian Calendar<v-spacer/><v-btn\n                  dark\n                  class=\"white--text\"\n                  icon\n                  @click=\"showGregorian = false\"\n                  group\n                  small\n                  ><v-icon>mdi-close</v-icon></v-btn>\n              </v-card-title>\n              <v-card-text v-if=\"pickerType==='year'\">\n                <br />\n                <v-text-field\n                  v-model=\"value\"\n                  clearable\n                  type=\"number\"\n                  :disabled=\"disabled\"\n                  :label=\"label\"\n                  :min=\"minYear\"\n                  :max=\"maxYear\"\n                  :rules=\"rules\"\n                  :error-messages=\"errors\"\n                  @change=\"errors = []\"\n                  dense\n                >\n                </v-text-field>\n              </v-card-text>\n              <v-date-picker\n                v-else\n                ref=\"gPicker\"\n                color=\"secondary\"\n                :landscape=\"$vuetify.breakpoint.smAndUp\"\n                v-model=\"value\"\n                :max=\"dateValueMax\"\n                :min=\"dateValueMin\"\n                :type=\"pickerType\"\n                :disabled=\"disabled\"\n                @change=\"save\"\n                ></v-date-picker>\n            </v-card>\n          </v-row>\n        </v-container>\n        <v-card min-width=\"300px\" v-else-if=\"pickerType==='year'\" >\n          <v-card-text>\n            <br />\n            <v-text-field\n              v-model=\"value\"\n              type=\"number\"\n              :disabled=\"disabled\"\n              :label=\"label\"\n              :min=\"minYear\"\n              :max=\"maxYear\"\n              :rules=\"rules\"\n              :error-messages=\"errors\"\n              @change=\"errors = []\"\n              dense\n            >\n            </v-text-field>\n          </v-card-text>\n        </v-card>\n        <v-date-picker\n          v-else\n          ref=\"picker\"\n          color=\"secondary\"\n          :landscape=\"$vuetify.breakpoint.smAndUp\"\n          v-model=\"value\"\n          :max=\"dateValueMax\"\n          :min=\"dateValueMin\"\n          :type=\"pickerType\"\n          :disabled=\"disabled\"\n          @change=\"save\"\n          ></v-date-picker>\n\n      </v-menu>\n    </template>\n    <template #header>\n      {{$t(`App.fhir-date.${label}`)}}\n    </template>\n    <template #value>\n      {{displayValue}}\n    </template>\n  </ihris-element>\n</template>\n\n<script>\nimport IhrisElement from \"../ihris/ihris-element.vue\"\nimport VEthiopianDatePicker from \"vuetify-ethiopian-calendar\"\nimport ethiopic from \"ethiopic-calendar\"\n\nexport default {\n  name: \"fhir-date\",\n  props: [\"field\",\"min\",\"max\",\"base-min\",\"base-max\", \"label\", \"slotProps\", \"path\", \"edit\",\"sliceName\",\n    \"minValueDate\", \"maxValueDate\", \"minValueQuantity\", \"maxValueQuantity\", \"displayType\",\"readOnlyIfSet\", \"calendar\",\n    \"constraints\" ],\n  components: {\n    IhrisElement,\n    VEthiopianDatePicker\n  },\n  data: function() {\n    return {\n      value: null,\n      etValue: null,\n      menu: false,\n      source: { path: \"\", data: {} },\n      qField: \"valueDate\",\n      pickerType: \"date\",\n      disabled: false,\n      showGregorian: false,\n      errors: [],\n      lockWatch: false\n    }\n  },\n  created: function() {\n    //console.log(\"CREATE STRING\",this.field,this.slotProps)\n    this.setupData()\n  },\n  computed: {\n    dateValueMax: function() {\n      if ( this.maxValueQuantity ) {\n        let maxDate = this.convertQuantity( this.maxValueQuantity, \"add\" )\n        if ( maxDate ) {\n          return maxDate\n        }\n      }\n      if ( this.maxValueDate ) {\n        return this.maxValueDate\n      }\n      return undefined\n    },\n    dateValueMin: function() {\n      if ( this.minValueQuantity ) {\n        let minDate = this.convertQuantity( this.minValueQuantity, \"subtract\" )\n        if ( minDate ) {\n          return minDate\n        }\n      } else if ( this.minValueDate ) {\n        return this.minValueDate\n      }\n      return undefined\n    },\n    minYear: function() {\n      return this.dateValueMin ? this.dateValueMin.substring(0,4) : undefined\n    },\n    maxYear: function() {\n      return this.dateValueMax ? this.dateValueMax.substring(0,4) : undefined\n    },\n    minYearET: function() {\n      return this.minValueETDate ? this.minValueETDate.substring(0,4) : undefined\n    },\n    maxYearET: function() {\n      return this.maxValueETDate ? this.maxValueETDate.substring(0,4) : undefined\n    },\n    isEthiopian: function() {\n      return this.calendar === \"Ethiopian\"\n    },\n    minValueETDate: function() {\n      if ( this.dateValueMin ) {\n        return this.convertGE( this.dateValueMin )\n      } else {\n        return null\n      }\n    },\n    maxValueETDate: function() {\n      if ( this.dateValueMax ) {\n        return this.convertGE( this.dateValueMax )\n      } else {\n        return null\n      }\n    },\n    displayValue: function() {\n      if ( this.isEthiopian ) {\n        return this.value && \"Ethiopian: \" + this.etValue + \" Gregorian: \" + this.value\n      } else {\n        return this.value\n      }\n    },\n    index: function() {\n      if ( this.slotProps && this.slotProps.input ) return this.slotProps.input.index\n      else return undefined\n    },\n    required: function() {\n      return (this.index || 0) < this.min\n    },\n    rules: function() {\n      if ( this.required ) {\n        return [ v => !!v || this.label+\" is required\" ]\n      } else {\n        return []\n      }\n    }\n  },\n  watch: {\n    menu (val) {\n      if ( this.pickerType !== 'year' ) {\n        if ( this.isEthiopian ) {\n          !this.value && val && setTimeout(() => (this.$refs.etPicker.activePicker = 'YEAR'))\n        } else {\n          !this.value && val && setTimeout(() => (this.$refs.picker.activePicker = 'YEAR'))\n        }\n      }\n    },\n    showGregorian (val) {\n      !this.value && val && setTimeout(() => (this.$refs.gPicker.activePicker = 'YEAR'))\n    },\n    slotProps: {\n      handler() {\n        //console.log(\"WATCH STRING\",this.field,this.path,this.slotProps)\n        if ( !this.lockWatch ) {\n          this.setupData()\n        }\n      },\n      deep: true\n    },\n    value (val) {\n      if ( !val ) {\n        this.etValue = val\n      } else if ( this.pickerType === 'year' ) {\n        if ( val.length === 4 ) {\n          this.etValue = this.convertGE( val )\n        }\n       } else {\n        this.etValue = this.convertGE( val )\n      }\n      /*\n      const [ year, month, day ] = val.split('-').map(Number)\n      let etDate = ethiopic.ge( year, month || 1, day  || 1)\n      this.etValue = etDate.year.toString().padStart(4,'0') + \"-\" + etDate.month.toString().padStart(2,'0') + \"-\" + etDate.day.toString().padStart(2, '0')\n      */\n    },\n    etValue (val) {\n      if ( !val ) {\n        this.value = val\n      } else if ( this.pickerType === 'year' ) {\n        if ( val.length === 4 ) {\n          this.value = this.convertEG( val )\n        }\n      } else {\n        this.value = this.convertEG( val )\n      }\n      /*\n      const [ etYear, etMonth, etDay ] = val.split('-').map(Number)\n      let gDate = ethiopic.eg( etYear, etMonth || 1, etDay  || 1)\n      this.value = gDate.year.toString().padStart(4,'0') + \"-\" + gDate.month.toString().padStart(2,'0') + \"-\" + gDate.day.toString().padStart(2, '0')\n      */\n    }\n  },\n  methods: {\n    convertQuantity(val, direction) {\n      const unitsofmeasure = {\n        'a': 'years',\n        'mo': 'months',\n        'wk': 'weeks',\n        'd': 'days',\n      }\n      const quant = /(-?\\d+)([a-z]{1,3})/\n\n      let match = val.match( quant )\n      if ( match.length === 3 ) {\n        try {\n          let value = match[1]\n          let unit = unitsofmeasure[ match[2] ]\n          if ( direction === \"subtract\" ) {\n            return this.$moment( this.$moment().subtract(value, unit) ).format('YYYY-MM-DD')\n          } else {\n            return this.$moment( this.$moment().add(value, unit) ).format('YYYY-MM-DD')\n          }\n        } catch (e) {\n          console.log(\"Failed to get date from quantity\",e)\n        }\n      }\n      return undefined\n    },\n    convertGE(val) {\n      if ( !val ) return val\n      const [ year, month, day ] = val.split('-').map(Number)\n      if ( this.pickerType === 'year' ) {\n        let etDate = ethiopic.ge( year, month || 6, day || 1) // so it will be the same year in both directions\n        return etDate.year.toString().padStart(4,'0')\n      } else {\n        let etDate = ethiopic.ge( year, month || 1, day || 1)\n        return etDate.year.toString().padStart(4,'0') + \"-\" + etDate.month.toString().padStart(2,'0') + \"-\" + etDate.day.toString().padStart(2, '0')\n      }\n    },\n    convertEG(val) {\n      if ( !val ) return val\n      const [ etYear, etMonth, etDay ] = val.split('-').map(Number)\n      if ( this.pickerType === 'year' ) {\n        let gDate = ethiopic.eg( etYear, etMonth|| 6, etDay || 1) // so it will be the same year in both directions\n        return gDate.year.toString().padStart(4,'0')\n      } else {\n        let gDate = ethiopic.eg( etYear, etMonth || 1, etDay || 1)\n        return gDate.year.toString().padStart(4,'0') + \"-\" + gDate.month.toString().padStart(2,'0') + \"-\" + gDate.day.toString().padStart(2, '0')\n      }\n    },\n    setupData() {\n      if ( this.displayType ) {\n        this.pickerType = this.displayType\n      }\n      if ( this.slotProps && this.slotProps.source ) {\n        this.source = { path: this.slotProps.source.path+\".\"+this.field, data: {} }\n        if ( this.slotProps.source.fromArray ) {\n          this.source.data = this.slotProps.source.data\n          this.value = this.source.data\n          this.lockWatch = true\n          //console.log(\"SET value to \", this.source.data, this.slotProps.input)\n        } else {\n          let expression = this.$fhirutils.pathFieldExpression( this.field )\n          this.source.data = this.$fhirpath.evaluate( this.slotProps.source.data, expression )\n          //console.log(\"STR FHIRPATH\", this.slotProps.source.data, this.field)\n          if ( this.source.data.length == 1 ) {\n            this.value = this.source.data[0]\n            this.lockWatch = true\n          }\n        }\n        this.disabled = this.readOnlyIfSet && (!!this.value)\n        //console.log(this.source)\n      }\n    },\n    save (date) {\n      this.errors = []\n      this.$refs.menu.save(date)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-date.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-date.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fhir-date.vue?vue&type=template&id=88354fba&\"\nimport script from \"./fhir-date.vue?vue&type=script&lang=js&\"\nexport * from \"./fhir-date.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VContainer,VDatePicker,VIcon,VMenu,VRow,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ihris-complex-card',{attrs:{\"complexField\":_vm.field,\"slotProps\":_vm.slotProps,\"label\":_vm.label,\"errors\":_vm.errors},scopedSlots:_vm._u([{key:\"default\",fn:function(slotProps){return [_vm._t(\"default\",null,{\"source\":slotProps.source})]}}],null,true)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ihris-complex-card \n    :complexField=\"field\"\n    :slotProps=\"slotProps\"\n    :label=\"label\"\n    :errors=\"errors\"\n  >\n    <template #default=\"slotProps\">\n      <slot :source=\"slotProps.source\"></slot>\n    </template>\n  </ihris-complex-card>\n\n</template>\n\n<script>\nimport IhrisComplexCard from \"../ihris/ihris-complex-card.vue\"\n\nexport default {\n  name: \"fhir-human-name\",\n  props: [\"field\", \"slotProps\",\"sliceName\",\"min\",\"max\",\"base-min\",\"base-max\",\"label\",\"path\", \"edit\",\"constraints\"],\n  data: function() {\n    return {\n      errors: []\n    }\n  },\n  components: {\n    IhrisComplexCard\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-human-name.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-human-name.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fhir-human-name.vue?vue&type=template&id=f50668ec&\"\nimport script from \"./fhir-human-name.vue?vue&type=script&lang=js&\"\nexport * from \"./fhir-human-name.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./languageDetail.vue?vue&type=style&index=0&id=6b049f1c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./languageDetail.vue?vue&type=style&index=0&id=6b049f1c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.edit)?_c('v-container',[_vm._t(\"form\")],2):_c('div',[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{staticClass:\"font-weight-bold\",attrs:{\"cols\":_vm.$store.state.cols.header}},[_vm._t(\"header\")],2),(_vm.loading)?_c('v-col',{attrs:{\"cols\":_vm.$store.state.cols.content}},[_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}})],1):_c('v-col',{attrs:{\"cols\":_vm.$store.state.cols.content}},[_vm._t(\"value\")],2)],1),_c('v-divider')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-container v-if=\"edit\">\n      <slot name=\"form\"></slot>\n    </v-container>\n    <div v-else>\n      <v-row dense>\n        <v-col :cols=\"$store.state.cols.header\" class=\"font-weight-bold\">\n          <slot name=\"header\"></slot>\n        </v-col>\n        <v-col :cols=\"$store.state.cols.content\" v-if=\"loading\">\n          <v-progress-linear indeterminate color=\"primary\"></v-progress-linear>\n        </v-col>\n        <v-col :cols=\"$store.state.cols.content\" v-else>\n          <slot name=\"value\"></slot>\n        </v-col>\n      </v-row>\n      <v-divider></v-divider>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ihris-element\",\n  props: [ \"edit\", \"loading\" ]\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ihris-element.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ihris-element.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ihris-element.vue?vue&type=template&id=61b3b392&\"\nimport script from \"./ihris-element.vue?vue&type=script&lang=js&\"\nexport * from \"./ihris-element.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VContainer,VDivider,VProgressLinear,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ihris-element',{attrs:{\"edit\":_vm.edit,\"loading\":false},scopedSlots:_vm._u([{key:\"form\",fn:function(){return [_c('v-text-field',{attrs:{\"error-messages\":_vm.errors,\"disabled\":_vm.disabled,\"label\":_vm.$t((\"App.fhir-string.\" + _vm.display)),\"outlined\":\"\",\"hide-details\":\"auto\",\"rules\":_vm.rules,\"type\":_vm.isPassword ? (_vm.showPassword ? 'text' : 'password') : 'text',\"append-icon\":_vm.isPassword ? (_vm.showPassword ? 'mdi-eye' : 'mdi-eye-off') : '',\"dense\":\"\"},on:{\"change\":function($event){_vm.errors = []},\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(_vm._s(_vm.$t((\"App.fhir-string.\" + _vm.display)))),(_vm.required)?_c('span',{staticClass:\"red--text font-weight-bold\"},[_vm._v(\"*\")]):_vm._e()]},proxy:true}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})]},proxy:true},{key:\"header\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.$t((\"App.fhir-string.\" + _vm.display)))+\" \")]},proxy:true},{key:\"value\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.value)+\" \")]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ihris-element :edit=\"edit\" :loading=\"false\">\n    <template #form>\n      <v-text-field \n        :error-messages=\"errors\" \n        @change=\"errors = []\" \n        :disabled=\"disabled\"\n        :label=\"$t(`App.fhir-string.${display}`)\"\n        v-model=\"value\" \n        outlined \n        hide-details=\"auto\" \n        :rules=\"rules\" \n        :type=\"isPassword ? (showPassword ? 'text' : 'password') : 'text'\"\n        :append-icon=\"isPassword ? (showPassword ? 'mdi-eye' : 'mdi-eye-off') : ''\"\n        @click:append=\"showPassword = !showPassword\"\n        dense\n      >\n      <template #label>{{$t(`App.fhir-string.${display}`)}}<span v-if=\"required\" class=\"red--text font-weight-bold\">*</span></template>\n      </v-text-field>\n    </template>\n    <template #header>\n      {{$t(`App.fhir-string.${display}`)}}\n    </template>\n    <template #value>\n      {{value}}\n    </template>\n  </ihris-element>\n</template>\n\n<script>\nimport IhrisElement from \"../ihris/ihris-element.vue\"\n\nexport default {\n  name: \"fhir-string\",\n  props: [\"field\", \"label\", \"min\", \"max\", \"id\", \"path\", \"slotProps\", \"sliceName\",\"base-min\",\"base-max\",\"edit\",\"readOnlyIfSet\",\n    \"constraints\", \"displayType\"],\n  components: {\n    IhrisElement\n  },\n  data: function() {\n    return {\n      source: { path: \"\", data: {} },\n      value: \"\",\n      showPassword: false,\n      qField: \"valueString\",\n      disabled: false,\n      errors: [],\n      lockWatch: false\n    }\n  },\n  created: function() {\n    //console.log(\"CREATE STRING\",this.field,this.slotProps)\n    this.setupData()\n  },\n  watch: {\n    slotProps: {\n      handler() {\n        //console.log(\"WATCH STRING\",this.field,this.path,this.slotProps)\n        if ( !this.lockWatch ) {\n          this.setupData()\n        }\n      },\n      deep: true\n    }\n  },\n  methods: {\n    setupData() {\n      if ( this.slotProps && this.slotProps.source ) {\n        this.source = { path: this.slotProps.source.path+\".\"+this.field, data: {} }\n        if ( this.slotProps.source.fromArray ) {\n          this.source.data = this.slotProps.source.data\n          this.value = this.source.data\n          this.lockWatch = true\n          //console.log(\"SET value to \", this.source.data, this.slotProps.input)\n        } else {\n          let expression = this.$fhirutils.pathFieldExpression( this.field )\n          this.source.data = this.$fhirpath.evaluate( this.slotProps.source.data, expression )\n          //console.log(\"STR FHIRPATH\", this.slotProps.source.data, this.field)\n          if ( this.source.data.length == 1 ) {\n            this.value = this.source.data[0]\n            this.lockWatch = true\n          }\n        }\n        this.disabled = this.readOnlyIfSet && (!!this.value)\n        //console.log(this.source)\n      }\n    }\n  },\n  computed: {\n    index: function() {\n      if ( this.slotProps && this.slotProps.input ) return this.slotProps.input.index\n      else return undefined\n    },\n    display: function() {\n      if ( this.slotProps && this.slotProps.input) return this.slotProps.input.label\n      else return this.label\n    },\n    required: function() {\n      return (this.index || 0) < this.min \n    },\n    rules: function() {\n      if ( this.required ) {\n        return [ v => !!v || this.display+\" is required\" ]\n      } else {\n        return []\n      }\n    },\n    isPassword: function() {\n      return this.displayType === 'password'\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-string.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-string.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fhir-string.vue?vue&type=template&id=66399f0f&\"\nimport script from \"./fhir-string.vue?vue&type=script&lang=js&\"\nexport * from \"./fhir-string.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.simpleDisplay)?_c('div',[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{staticClass:\"font-weight-bold\",attrs:{\"cols\":_vm.$store.state.cols.header}},[_vm._v(_vm._s(_vm.$t((\"App.ihris-array.\" + _vm.label))))]),_c('v-col',{attrs:{\"cols\":_vm.$store.state.cols.header}},[_vm._v(_vm._s(_vm.simpleValue))])],1),_c('v-divider')],1):_c('v-container',[_c('v-card',[(_vm.edit)?_c('v-system-bar',{attrs:{\"color\":\"secondary\",\"dark\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t((\"App.ihris-array.\" + _vm.label)))+\" \"),_c('v-spacer'),(_vm.subAvailable)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.removeRow()}}},[_c('v-icon',{staticClass:\"font-weight-bold\"},[_vm._v(\"mdi-minus\")])],1):_vm._e(),(_vm.addAvailable)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.addRow()}}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1):_vm._e()],1):_vm._e(),_vm._l((_vm.inputs),function(input){return _vm._t(\"default\",null,{\"input\":input,\"source\":input.source})})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"simpleDisplay\">\n      <v-row dense>\n        <v-col :cols=\"$store.state.cols.header\" class=\"font-weight-bold\">{{$t(`App.ihris-array.${label}`)}}</v-col><v-col :cols=\"$store.state.cols.header\">{{simpleValue}}</v-col>\n      </v-row>\n      <v-divider></v-divider>\n    </div>\n    <v-container v-else>\n      <v-card>\n        <v-system-bar\n          color=\"secondary\"\n          dark\n          v-if=\"edit\"\n          >\n          {{ $t(`App.ihris-array.${label}`) }}\n          <v-spacer></v-spacer>\n          <v-btn v-if=\"subAvailable\" icon @click=\"removeRow()\"><v-icon class=\"font-weight-bold\">mdi-minus</v-icon></v-btn>\n          <v-btn v-if=\"addAvailable\" icon @click=\"addRow()\"><v-icon>mdi-plus</v-icon></v-btn>\n        </v-system-bar>\n        <slot v-for=\"input in inputs\" :input=\"input\" :source=\"input.source\"></slot>\n      </v-card>\n    </v-container>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ihris-array\",\n  props: [\"label\", \"min\", \"max\", \"id\", \"path\", \"slotProps\", \"field\", \"fieldType\", \"profile\", \"targetProfile\", \"sliceName\", \"edit\" ],\n  data: function() {\n    return {\n      inputs: [],\n      source: { path: \"\", data: [] },\n      isArray: true,\n      lockWatch: false\n    }\n  },\n  created: function() {\n    this.setupInputs()\n  },\n  watch: {\n    slotProps: {\n      handler() {\n        if ( !this.lockWatch ) {\n          //console.log(\"WATCHARR\",this.path,this.slotProps.source)\n          this.setupInputs()\n        }\n      },\n      deep: true\n    }\n  },\n  methods: {\n    setupInputs: function() {\n      this.inputs = []\n      this.source = { path: this.path, data: {} }\n      let path = this.path\n      if ( this.slotProps && this.slotProps.source ) {\n        let expression = this.field\n        if ( this.sliceName ) {\n          expression = this.field.replace(/([^:]+):(.+)/, \"$1.where(url='\"+this.profile+\"')\")\n        }\n        this.source.data = this.$fhirpath.evaluate( this.slotProps.source.data, expression)\n        if ( this.source.data.length > 0 ) {\n          this.lockWatch = true\n        }\n      }\n      for( let idx = 0; idx < this.actualMin; idx++ ) {\n        let label = this.label\n        if ( this.displayIndex ) {\n          label += \" (\"+(idx+1)+\")\"\n        }\n        let input = { label: label, index: idx, data: undefined } \n        if ( this.source.data[idx] ) {\n          input.source = { data: this.source.data[idx], path: path+\"[\"+idx+\"]\", fromArray: true }\n        }\n        this.inputs.push( input )\n      }\n    },\n    addRow: function() {\n      this.lockWatch = true\n      if ( this.addAvailable ) {\n        let label = this.label\n        if ( this.displayIndex ) {\n          label += \" (\"+(this.inputs.length+1)+\")\"\n        }\n        this.inputs.push( { label: label, index: this.inputs.length } )\n      }\n    },\n    removeRow: function() {\n      if ( this.subAvailable ) {\n        this.inputs.splice(-1)\n      }\n    },\n    getField: function() {\n      return this.field\n    }\n  },\n  computed: {\n    actualMin: function() {\n      return Math.max( this.min, ( this.source.data.length > 0 ? this.source.data.length : 0 ) )\n      //return this.min < 1 ? 1 : this.min\n    },\n    addAvailable: function() {\n      return this.max === \"*\" || this.inputs.length < this.max\n    },\n    displayIndex: function() {\n      return this.max === \"*\" || this.max > 1\n    },\n    subAvailable: function() {\n      return this.actualMin < this.inputs.length\n    },\n    simpleDisplay: function() {\n      return !this.edit && [ \"string\" ].includes(this.fieldType)\n    },\n    simpleValue: function() {\n      return this.source.data.join(\" \")\n    }\n\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ihris-array.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ihris-array.vue?vue&type=script&lang=js&\"","// Styles\nimport './VSystemBar.sass'\n\n// Mixins\nimport Applicationable from '../../mixins/applicationable'\nimport Colorable from '../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\n\n// Utilities\nimport mixins from '../../util/mixins'\nimport { convertToUnit, getSlot } from '../../util/helpers'\n\n// Types\nimport { VNode } from 'vue/types'\n\nexport default mixins(\n  Applicationable('bar', [\n    'height',\n    'window',\n  ]),\n  Colorable,\n  Themeable\n/* @vue/component */\n).extend({\n  name: 'v-system-bar',\n\n  props: {\n    height: [Number, String],\n    lightsOut: Boolean,\n    window: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-system-bar--lights-out': this.lightsOut,\n        'v-system-bar--absolute': this.absolute,\n        'v-system-bar--fixed': !this.absolute && (this.app || this.fixed),\n        'v-system-bar--window': this.window,\n        ...this.themeClasses,\n      }\n    },\n    computedHeight (): number | string {\n      if (this.height) {\n        return isNaN(parseInt(this.height)) ? this.height : parseInt(this.height)\n      }\n\n      return this.window ? 32 : 24\n    },\n    styles (): object {\n      return {\n        height: convertToUnit(this.computedHeight),\n      }\n    },\n  },\n\n  methods: {\n    updateApplication () {\n      return this.$el\n        ? this.$el.clientHeight\n        : this.computedHeight\n    },\n  },\n\n  render (h): VNode {\n    const data = {\n      staticClass: 'v-system-bar',\n      class: this.classes,\n      style: this.styles,\n      on: this.$listeners,\n    }\n\n    return h('div', this.setBackgroundColor(this.color, data), getSlot(this))\n  },\n})\n","import { render, staticRenderFns } from \"./ihris-array.vue?vue&type=template&id=3bf6b572&\"\nimport script from \"./ihris-array.vue?vue&type=script&lang=js&\"\nexport * from \"./ihris-array.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSystemBar } from 'vuetify/lib/components/VSystemBar';\ninstallComponents(component, {VBtn,VCard,VCol,VContainer,VDivider,VIcon,VRow,VSpacer,VSystemBar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ihris-complex-card',{attrs:{\"complexField\":_vm.field,\"slotProps\":_vm.slotProps,\"label\":_vm.label,\"errors\":_vm.errors},scopedSlots:_vm._u([{key:\"default\",fn:function(slotProps){return [_vm._t(\"default\",null,{\"source\":slotProps.source})]}}],null,true)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ihris-complex-card\n    :complexField=\"field\"\n    :slotProps=\"slotProps\"\n    :label=\"label\"\n    :errors=\"errors\"\n  >\n    <template #default=\"slotProps\">\n      <slot :source=\"slotProps.source\"></slot>\n    </template>\n  </ihris-complex-card>\n</template>\n\n<script>\nimport IhrisComplexCard from \"../ihris/ihris-complex-card.vue\"\nexport default {\n  name: \"fhir-identifier\",\n  props: [\"field\", \"slotProps\",\"sliceName\",\"min\",\"max\",\"base-min\",\"base-max\",\"label\",\"path\",\"edit\",\"constraints\"],\n  data: function() {\n    return {\n      errors: []\n    }\n  },\n  components: {\n    IhrisComplexCard\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-identifier.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-identifier.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fhir-identifier.vue?vue&type=template&id=5c6756e8&\"\nimport script from \"./fhir-identifier.vue?vue&type=script&lang=js&\"\nexport * from \"./fhir-identifier.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VDatePickerHeader, VDatePickerMonthTable, VDatePickerDateTable, VDatePicker } from 'vuetify/lib';\nimport { pad } from 'vuetify/lib/components/VDatePicker/util';\nimport isDateAllowed from 'vuetify/lib/components/VDatePicker/util/isDateAllowed';\nimport { wrapInArray } from 'vuetify/lib/util/helpers';\nimport ethiopicCalendar from 'ethiopic-calendar';\n\nclass ETDate {\n\n\n  constructor( year, month, date ) { \n    if ( year && month && date ) {\n      this.year = year;\n      this.month = month;\n      this.date = date;\n    } else {\n      const now = new Date();\n      this.fromGregorian( now.getFullYear(), now.getMonth()+1, now.getDate() );\n    }   \n  }\n\n  getMonthName(locale) {\n    const ETmonths = {\n      en: [\n        \"Mäskäräm\", \"Ṭəqəmt\", \"Ḫədar\", \"Taḫśaś\", \"Ṭərr\", \"Yäkatit\",\n        \"Mägabit\", \"Miyazya\", \"Gənbo\", \"Säne\", \"Ḥamle\", \"Nähase\", \"Ṗagume\"\n      ],\n      am: [\n        \"መስከረም\", \"ጥቅምት\", \"ኅዳር\", \"ታኅሣሥ\", \"ጥር\", \"የካቲት\", \"መጋቢት\",\n        \"ሚያዝያ\", \"ግንቦት\", \"ሰኔ\", \"ሐምሌ\", \"ነሐሴ\", \"ጳጉሜን\"\n      ]\n    };\n    if ( !ETmonths.hasOwnProperty(locale) ) {\n      locale = 'en';\n    }\n    return ETmonths[locale][this.month-1]\n  }\n\n  getDayName(locale) {\n    var ETdays = {\n      en: [ 'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday' ],\n      am: [ \"እሑድ\", \"ሰኞ\", \"ማክሰ\", \"ረቡዕ\", \"ሐሙስ\", \"ዓርብ\", \"ቅዳሜ\" ]\n    };\n    if ( !ETdays.hasOwnProperty(locale) ) {\n      locale = 'en';\n    }\n    return ETdays[locale][this.dayOfWeek()]\n  }\n\n  getDayAbbrev(locale) {\n    var ETdays_short = {\n      en: [ 'S', 'M', 'T', 'W', 'T', 'F', 'S' ],\n      am: [ \"እ\", \"ሰ\", \"ማ\", \"ረ\", \"ሐ\", \"ዓ\", \"ቅ\" ]\n    };\n    if ( !ETdays_short.hasOwnProperty(locale) ) {\n      locale = 'en';\n    }\n    return ETdays_short[locale][this.dayOfWeek()]\n  }\n\n  toString() {\n    return pad(this.year, 4)+\"-\"+pad(this.month)+\"-\"+pad(this.date)\n  }\n\n  fromGregorian( year, month, date ) {\n      let ge = ethiopicCalendar.ge( year, month, date );\n      this.year = ge.year;\n      this.month = ge.month;\n      this.date = ge.day;\n  }\n\n  toGregorian() {\n    let eg = ethiopicCalendar.eg( this.year, this.month, this.date );\n    return { year: eg.year, month: eg.month, date: eg.day }\n  }\n\n  toGregorianString() {\n    let eg = ethiopicCalendar.eg( this.year, this.month, this.date );\n    return pad(eg.year, 4) +\"-\"+ pad(eg.month) +\"-\"+ pad(eg.day)\n  }\n\n  dayOfWeek() {\n    const gDate = new Date( this.toGregorianString() );\n    return (gDate.getDay()+1) % 7\n  }\n  \n  daysInMonth() {\n    if ( this.month < 13 ) {\n      return 30\n    } else if ( this.year % 4 === 3 ) {\n      return 6\n    } else {\n      return 5\n    }\n  }\n\n  weekOfYear() {\n    let firstDay = new ETDate( this.year, 1, 1 );\n    let numDays = ((this.month-1)*30) + this.date + firstDay.dayOfWeek();\n    let numWeek = Math.floor(numDays / 7) + 1;\n    return numWeek\n  }\n\n    format(type, locale) {\n    if ( type === 'day' ) {\n      return this.date\n    } else if ( type === 'year' ) {\n      return this.year\n    } else if ( type === 'month' ) {\n      return this.getMonthName(locale)\n    } else if ( type === 'date' ) {\n      return this.getDayName(locale) + \" \" + this.getMonthName(locale)\n        + \" \" + this.date + \"፣ \" + this.year\n    } else if ( type === \"monthYear\" ) {\n      return this.getMonthName(locale) + \" \" + this.year\n    } else if ( type === 'weekday' ) {\n      return this.getDayAbbrev(locale)\n    }\n  }\n\n}\n\n\nfunction createFormatter(type, locale) {\n  return dateString => {\n    const [year, month, date] = dateString.trim().split(' ')[0].split('-').map(Number);\n\n    const et_date = new ETDate(year, month || 1, date || 1);\n\n    return et_date.format(type, locale)\n  }\n}\n\nfunction daysInMonth(year, month){\n  let etdate = new ETDate( year, month, 1 );\n  return etdate.daysInMonth()\n}\n\nfunction firstDayOfTheMonth(year, month) {\n  let etdate = new ETDate( year, month, 1 );\n  return etdate.dayOfWeek()\n}\n\nfunction weekOfYear(year, month, date) {\n  let etdate = new ETDate( year, month, date );\n  return etdate.weekOfYear()\n}\n\nfunction monthChange(value, sign) {\n  const [year, month] = value.split('-').map(Number);\n\n  if (month + sign === 0) {\n    return `${year - 1}-13`\n  } else if (month + sign === 14) {\n    return `${year + 1}-01`\n  } else {\n    return `${year}-${pad(month + sign)}`\n  }\n}\n\nvar VEthiopianDatePickerHeader = {\n    extends: VDatePickerHeader,\n    computed: {\n        formatter() {\n            return this.format || createFormatter(String(this.value).split('-')[1] ? 'monthYear' : 'year', this.currentLocale);\n        }\n    },\n    methods: {\n        calculateChange (sign) {\n            const [year, month] = String(this.value).split('-').map(Number);\n\n            if (month == null) {\n                return `${year + sign}`\n            } else {\n                return monthChange(String(this.value), sign)\n            }   \n        }   \n    }   \n};\n\nvar VEthiopianDatePickerMonthTable = {\n    extends: VDatePickerMonthTable,\n    computed: {\n        formatter() {\n            return this.format || createFormatter('month', this.currentLocale);\n        }\n    },\n    methods: {\n        genTBody() {\n            const children = [];\n            const cols = Array(4).fill(null);\n            const rows = 13 / cols.length;\n    \n            for (let row = 0; row < rows; row++) {\n                const tds = cols.map((_, col) => {\n                    const month = row * cols.length + col;\n                    if ( month > 12 ) return\n                    const date = `${this.displayedYear}-${pad(month + 1)}`;\n                    return this.$createElement('td', { key: month }, [this.genButton(date, false, 'month', this.formatter)]);\n                });\n                children.push(this.$createElement('tr', { key: row }, tds));\n            }\n    \n            return this.$createElement('tbody', children);\n        },\n        genButton(value, isFloating, mouseEventType, formatter) {\n            const isAllowed = isDateAllowed(value, this.min, this.max, this.allowedDates);\n            const isSelected = this.isSelected(value) && isAllowed;\n            const isCurrent = value === this.current;\n            const setColor = isSelected ? this.setBackgroundColor : this.setTextColor;\n            const color = (isSelected || isCurrent) && (this.color || 'accent');\n            return this.$createElement('button', setColor(color, {\n                staticClass: 'v-btn',\n                class: this.genButtonClasses(isAllowed, isFloating, isSelected, isCurrent),\n                attrs: {\n                    type: 'button'\n                },\n                domProps: {\n                    disabled: this.disabled || !isAllowed\n                },\n                on: this.genButtonEvents(value, isAllowed, mouseEventType)\n            }), [this.$createElement('div', {\n                staticClass: 'v-btn__content'\n            }, [formatter(value)]), this.genEvents(value)]);\n        },\n    }\n};\n\nvar VEthiopianDatePickerDateTable = {\n    extends: VDatePickerDateTable,\n    computed: {\n        formatter() {\n            return this.format || createFormatter('day', this.currentLocale);\n        },\n        weekdayFormatter() {\n            return this.weekdayFormat || createFormatter('weekday', this.currentLocale);\n        },\n        weekDays() {\n          const first = parseInt( this.firstDayOfWeek, 10 );\n          return Array(7).fill().map( (x,i) => this.weekdayFormatter(`2013-01-${first + i + 10}`))\n        }\n    },\n    methods: {\n        weekDaysBeforeFirstDayOfTheMonth() {\n            const weekDay = firstDayOfTheMonth(this.displayedYear, this.displayedMonth);\n            return (weekDay - parseInt(this.firstDayOfWeek) + 7) % 7;\n        },\n\n        getWeekNumber(dayInMonth) {\n            return weekOfYear(this.displayedYear, this.displayedMonth, dayInMonth)\n        },\n\n        genTBody() {\n            const children = [];\n            const daysInCurrentMonth = daysInMonth(this.displayedYear, this.displayedMonth);\n            let rows = [];\n            let day = this.weekDaysBeforeFirstDayOfTheMonth();\n    \n            if (this.showWeek) {\n                rows.push(this.genWeekNumber(this.getWeekNumber(1)));\n            }\n    \n            while (day--) rows.push(this.$createElement('td'));\n    \n            for (day = 1; day <= daysInCurrentMonth; day++) {\n                const date = `${this.displayedYear}-${pad(this.displayedMonth)}-${pad(day)}`;\n                rows.push(this.$createElement('td', [this.genButton(date, true, 'date', this.formatter)]));\n    \n                if (rows.length % (this.showWeek ? 8 : 7) === 0) {\n                    children.push(this.genTR(rows));\n                    rows = [];\n        \n                    if (this.showWeek && day < daysInCurrentMonth) {\n                        rows.push(this.genWeekNumber(this.getWeekNumber((day + 7) > daysInCurrentMonth ? daysInCurrentMonth : (day + 7))));\n                    }\n                }\n            }\n    \n            if (rows.length) {\n                children.push(this.genTR(rows));\n            }\n    \n            return this.$createElement('tbody', children);\n        },\n    }\n};\n\nfunction sanitizeDateString(dateString, type) {\n    const [year, month = 1, date = 1] = dateString.split(\"-\");\n    return `${year}-${pad(month)}-${pad(date)}`.substr(\n        0,\n        {\n            date: 10,\n            month: 7,\n            year: 4\n        }[type]\n    );\n}\n\nvar VEthiopianDatePicker = {\n    extends: VDatePicker,\n    name: \"VEthiopianDatePicker\",\n    props: {\n        max: {\n            type: String,\n            validator: dateString => {\n                return Number(sanitizeDateString(dateString, 'year')) <= 3000\n            }\n        },\n        min: {\n            type: String,\n            validator: dateString => {\n                return Number(sanitizeDateString(dateString, 'year')) >= 1\n            }\n        },\n    },\n    data() {\n      const now = new ETDate();\n        return {\n            activePicker: this.type.toUpperCase(),\n            inputDay: null,\n            inputMonth: null,\n            inputYear: null,\n            isReversing: false,\n            now,\n            tableDate: (() => {\n                if (this.pickerDate) {\n                    return this.pickerDate;\n                }\n\n                const multipleValue = wrapInArray(this.value);\n                const date = multipleValue[multipleValue.length - 1] || (typeof this.showCurrent === 'string' ? this.showCurrent : `${now.year}-${now.month}`);\n                return sanitizeDateString(date, this.type === 'date' ? 'month' : 'year');\n            })(),\n        };\n    },\n    computed: {\n        current() {\n            if (this.showCurrent === true) {\n                return sanitizeDateString(`${this.now.year}-${this.now.month}-${this.now.date}`, this.type);\n            }\n            return this.showCurrent || null;\n        },\n\n        inputDate() {\n            return this.type === 'date' ? `${this.inputYear}-${pad(this.inputMonth)}-${pad(this.inputDay)}` : `${this.inputYear}-${pad(this.inputMonth)}`;\n        },\n\n        tableMonth() {\n            return Number((this.pickerDate || this.tableDate).split('-')[1]);\n        },\n\n        minMonth() {\n            return this.min ? sanitizeDateString(this.min, 'month') : \"1900-01\"\n        },\n      \n        maxMonth() {\n            return this.max ? sanitizeDateString(this.max, 'month') : \"2100-13\"\n        },\n      \n        minYear() {\n            return this.min ? sanitizeDateString(this.min, 'year') : \"1900\"\n        },\n      \n        maxYear() {\n            return this.max ? sanitizeDateString(this.max, 'year') : \"2100\"\n        },\n      \n        formatters() {\n            return {\n                year: createFormatter('year', this.currentLocale),\n                titleDate: this.titleDateFormat || (this.isMultiple ? this.defaultTitleMultipleDateFormatter : this.defaultTitleDateFormatter)\n            };\n        },\n\n        defaultTitleDateFormatter() {\n            const titleDateFormatter = createFormatter(this.type, this.currentLocale);\n    \n            const landscapeFormatter = date => titleDateFormatter(date).replace(/([^\\d\\s])([\\d])/g, (match, nonDigit, digit) => `${nonDigit} ${digit}`).replace(', ', ',<br>');\n    \n            return this.landscape ? landscapeFormatter : titleDateFormatter;\n        }\n    },\n    methods: {\n        yearClick(value) {\n            this.inputYear = value;\n    \n            if (this.type === 'month') {\n                this.tableDate = `${value}`;\n            } else {\n                this.tableDate = `${value}-${pad(this.tableMonth || 1)}`;\n            }\n    \n            this.activePicker = 'MONTH';\n    \n            if (this.reactive && !this.readonly && !this.isMultiple && this.isDateAllowed(this.inputDate)) {\n                this.$emit('input', this.inputDate);\n            }\n        },\n\n        monthClick(value) {\n            this.inputYear = parseInt(value.split('-')[0], 10);\n            this.inputMonth = parseInt(value.split('-')[1], 10);\n    \n            if (this.type === 'date') {\n                if (this.inputDay) {\n                    this.inputDay = Math.min(this.inputDay, daysInMonth(this.inputYear, this.inputMonth));\n                }\n    \n                this.tableDate = value;\n                this.activePicker = 'DATE';\n    \n                if (this.reactive && !this.readonly && !this.isMultiple && this.isDateAllowed(this.inputDate)) {\n                    this.$emit('input', this.inputDate);\n                }\n            } else {\n                this.emitInput(this.inputDate);\n            }\n        },\n      \n        dateClick(value) {\n            this.inputYear = parseInt(value.split('-')[0], 10);\n            this.inputMonth = parseInt(value.split('-')[1], 10);\n            this.inputDay = parseInt(value.split('-')[2], 10);\n            this.emitInput(this.inputDate);\n        },\n        \n        genTableHeader() {\n            return this.$createElement(VEthiopianDatePickerHeader, {\n                props: {\n                    nextIcon: this.nextIcon,\n                    color: this.color,\n                    dark: this.dark,\n                    disabled: this.disabled,\n                    format: this.headerDateFormat,\n                    light: this.light,\n                    locale: this.locale,\n                    min: this.activePicker === 'DATE' ? this.minMonth : this.minYear,\n                    max: this.activePicker === 'DATE' ? this.maxMonth : this.maxYear,\n                    nextAriaLabel: this.activePicker === 'DATE' ? this.nextMonthAriaLabel : this.nextYearAriaLabel,\n                    prevAriaLabel: this.activePicker === 'DATE' ? this.prevMonthAriaLabel : this.prevYearAriaLabel,\n                    prevIcon: this.prevIcon,\n                    readonly: this.readonly,\n                    value: this.activePicker === 'DATE' ? `${pad(this.tableYear, 4)}-${pad(this.tableMonth)}` : `${pad(this.tableYear, 4)}`\n                },\n                on: {\n                    toggle: () => this.activePicker = this.activePicker === 'DATE' ? 'MONTH' : 'YEAR',\n                    input: value => this.tableDate = value\n                }\n            });\n        },\n\n        genDateTable() {\n            return this.$createElement(VEthiopianDatePickerDateTable, {\n                props: {\n                    allowedDates: this.allowedDates,\n                    color: this.color,\n                    current: this.current,\n                    dark: this.dark,\n                    disabled: this.disabled,\n                    events: this.events,\n                    eventColor: this.eventColor,\n                    firstDayOfWeek: this.firstDayOfWeek,\n                    format: this.dayFormat,\n                    light: this.light,\n                    locale: this.locale,\n                    localeFirstDayOfYear: this.localeFirstDayOfYear,\n                    min: this.min,\n                    max: this.max,\n                    range: this.range,\n                    readonly: this.readonly,\n                    scrollable: this.scrollable,\n                    showWeek: this.showWeek,\n                    tableDate: `${pad(this.tableYear, 4)}-${pad(this.tableMonth + 1)}`,\n                    value: this.value,\n                    weekdayFormat: this.weekdayFormat\n                },\n                ref: 'table',\n                on: {\n                    input: this.dateClick,\n                    'update:table-date': value => this.tableDate = value,\n                    'click:date': value => this.$emit('click:date', value),\n                    'dblclick:date': value => this.$emit('dblclick:date', value),\n                }\n            });\n        },\n        \n        genMonthTable() {\n            return this.$createElement(VEthiopianDatePickerMonthTable, {\n                props: {\n                    allowedDates: this.type === 'month' ? this.allowedDates : null,\n                    color: this.color,\n                    current: this.current ? sanitizeDateString(this.current, 'month') : null,\n                    dark: this.dark,\n                    disabled: this.disabled,\n                    events: this.type === 'month' ? this.events : null,\n                    eventColor: this.type === 'month' ? this.eventColor : null,\n                    format: this.monthFormat,\n                    light: this.light,\n                    locale: this.locale,\n                    min: this.minMonth,\n                    max: this.maxMonth,\n                    range: this.range,\n                    readonly: this.readonly && this.type === 'month',\n                    scrollable: this.scrollable,\n                    value: this.selectedMonths,\n                    tableDate: `${pad(this.tableYear, 4)}`\n                },\n                ref: 'table',\n                on: {\n                    input: this.monthClick,\n                    'update:table-date': value => this.tableDate = value,\n                    'click:month': value => this.$emit('click:month', value),\n                    'dblclick:month': value => this.$emit('dblclick:month', value),\n                }\n            });\n        },\n\n        setInputDate() {\n            if (this.lastValue) {\n                const array = this.lastValue.split('-');\n                this.inputYear = parseInt(array[0], 10);\n                this.inputMonth = parseInt(array[1], 10);\n        \n                if (this.type === 'date') {\n                    this.inputDay = parseInt(array[2], 10);\n                }\n            } else {\n                this.inputYear = this.inputYear || this.now.year;\n                this.inputMonth = this.inputMonth == null ? this.inputMonth : this.now.month;\n                this.inputDay = this.inputDay || this.now.date;\n            }\n        },\n    }\n};\n\nexport default VEthiopianDatePicker;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.edit || !_vm.secondary)?_c('div',{staticClass:\"ihris-section\",attrs:{\"id\":'section-'+_vm.name}},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"700\",\"outlined\":\"\"}},[_c('v-card-title',{staticClass:\"primary darken-1 white--text text-uppercase font-weight-bold\"},[_vm._v(_vm._s(_vm.$t((\"App.ihris-section.\" + _vm.title)))+\" \")]),(_vm.name!=='language')?_c('v-card-text',{staticClass:\"my-3\"},[_vm._t(\"default\",null,{\"source\":_vm.slotProps.source})],2):_vm._e(),(_vm.name==='language')?_c('v-card-text',{staticClass:\"my-3\"},[_c('language-detail')],1):_vm._e()],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"680px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',{staticClass:\"px-6 py-4\"},[_c('v-card-title',{staticClass:\"justify-center\"},[_c('span',{staticClass:\"text-h6\"},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"large\":\"\",\"color\":\"primary\"}},[_vm._v(\"mdi-translate\")]),_vm._v(\"Add New Language\")],1)]),_c('v-card-text',[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-autocomplete',{attrs:{\"dense\":\"\",\"items\":_vm.languageList,\"label\":\"Language\",\"filter\":_vm.customFilter,\"required\":\"\",\"outlined\":\"\",\"item-text\":\"display\",\"return-object\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function(data){return [(typeof data.item === 'object')?[_c('v-list-item-content',{domProps:{\"textContent\":_vm._s(data.item.display)}})]:_vm._e()]}}]),model:{value:(_vm.selectedLanguage),callback:function ($$v) {_vm.selectedLanguage=$$v},expression:\"selectedLanguage\"}})],1),_vm._l((_vm.proficiencyInput),function(proficiencyData,index){return _c('v-row',{key:index,staticClass:\"mx-2\"},[_c('v-col',{attrs:{\"cols\":\"5\"}},[_c('v-autocomplete',{attrs:{\"dense\":\"\",\"label\":\"proficiency Type\",\"items\":_vm.proficiencyType,\"outlined\":\"\",\"item-text\":\"display\",\"return-object\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function(data){return [(typeof data.item === 'object')?[_c('v-list-item-content',{domProps:{\"textContent\":_vm._s(data.item.display)}})]:_vm._e()]}}],null,true),model:{value:(proficiencyData.extension[1].valueCoding),callback:function ($$v) {_vm.$set(proficiencyData.extension[1], \"valueCoding\", $$v)},expression:\"proficiencyData.extension[1].valueCoding\"}})],1),_c('v-col',{attrs:{\"cols\":\"5\"}},[_c('v-autocomplete',{attrs:{\"dense\":\"\",\"items\":_vm.proficiency,\"label\":\"Proficiency\",\"outlined\":\"\",\"item-text\":\"display\",\"return-object\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function(data){return [(typeof data.item === 'object')?[_c('v-list-item-content',{domProps:{\"textContent\":_vm._s(data.item.display)}})]:_vm._e()]}}],null,true),model:{value:(proficiencyData.extension[0].valueCoding),callback:function ($$v) {_vm.$set(proficiencyData.extension[0], \"valueCoding\", $$v)},expression:\"proficiencyData.extension[0].valueCoding\"}})],1),(index === _vm.proficiencyInput.length - 1)?_c('v-cols',{attrs:{\"cols\":\"2\"}},[_c('v-row',{staticClass:\"mt-4 ml-2\"},[_c('v-btn',{attrs:{\"rounded\":\"\",\"small\":\"\",\"icon\":\"\",\"flat\":\"\",\"color\":\"primary\",\"disabled\":_vm.proficiencyInput.length >= 4},on:{\"click\":_vm.addProficiency}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-plus-circle \")])],1),_c('v-btn',{attrs:{\"rounded\":\"\",\"small\":\"\",\"icon\":\"\",\"flat\":\"\",\"color\":\"primary\",\"disabled\":_vm.proficiencyInput.length <= 1},on:{\"click\":function($event){return _vm.reSet()}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-backup-restore \")])],1)],1)],1):_vm._e()],1)})],2)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function () {\n                _vm.dialog = false;\n                _vm.reSet();\n              }}},[_vm._v(\" Close \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.onSave}},[_vm._v(\" Save \")])],1)],1)],1)],1),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"680px\"},model:{value:(_vm.editDialog),callback:function ($$v) {_vm.editDialog=$$v},expression:\"editDialog\"}},[_c('v-card',{staticClass:\"px-6 py-4\"},[_c('v-card-title',{staticClass:\"justify-center\"},[_c('span',{staticClass:\"text-h6\"},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"large\":\"\",\"color\":\"primary\"}},[_vm._v(\"mdi-translate\")]),_vm._v(\"Select and Edit Language\")],1)]),_c('v-card-text',[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-autocomplete',{attrs:{\"dense\":\"\",\"items\":_vm.allAvailableLanguages.map(function (lan) { return lan.coding[0]; }),\"label\":\"select the Language to edit\",\"filter\":_vm.customFilter,\"required\":\"\",\"outlined\":\"\",\"item-text\":\"display\",\"return-object\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function(data){return [(typeof data.item === 'object')?[_c('v-list-item-content',{domProps:{\"textContent\":_vm._s(data.item.display)}})]:_vm._e()]}}]),model:{value:(_vm.selectedLanguageToEdit),callback:function ($$v) {_vm.selectedLanguageToEdit=$$v},expression:\"selectedLanguageToEdit\"}})],1),_vm._l((_vm.proficiencySelected),function(proficiencyData,index){return _c('v-row',{key:index,staticClass:\"mx-2\"},[_c('v-col',{attrs:{\"cols\":\"5\"}},[_c('v-autocomplete',{attrs:{\"dense\":\"\",\"label\":\"proficiency Type\",\"items\":_vm.proficiencyType,\"outlined\":\"\",\"item-text\":\"display\",\"return-object\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function(data){return [(typeof data.item === 'object')?[_c('v-list-item-content',{domProps:{\"textContent\":_vm._s(data.item.display)}})]:_vm._e()]}}],null,true),model:{value:(proficiencyData.extension[1].valueCoding),callback:function ($$v) {_vm.$set(proficiencyData.extension[1], \"valueCoding\", $$v)},expression:\"proficiencyData.extension[1].valueCoding\"}})],1),_c('v-col',{attrs:{\"cols\":\"5\"}},[_c('v-autocomplete',{attrs:{\"dense\":\"\",\"items\":_vm.proficiency,\"label\":\"Proficiency\",\"outlined\":\"\",\"item-text\":\"display\",\"return-object\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function(data){return [(typeof data.item === 'object')?[_c('v-list-item-content',{domProps:{\"textContent\":_vm._s(data.item.display)}})]:_vm._e()]}}],null,true),model:{value:(proficiencyData.extension[0].valueCoding),callback:function ($$v) {_vm.$set(proficiencyData.extension[0], \"valueCoding\", $$v)},expression:\"proficiencyData.extension[0].valueCoding\"}})],1),(index === _vm.proficiencySelected.length - 1)?_c('v-cols',{attrs:{\"cols\":\"2\"}},[_c('v-row',{staticClass:\"mt-4 ml-2\"},[_c('v-btn',{attrs:{\"rounded\":\"\",\"small\":\"\",\"icon\":\"\",\"flat\":\"\",\"color\":\"primary\",\"disabled\":_vm.proficiencySelected.length >= 6},on:{\"click\":_vm.addProficiencySelected}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-plus-circle \")])],1),_c('v-btn',{attrs:{\"rounded\":\"\",\"small\":\"\",\"icon\":\"\",\"flat\":\"\",\"color\":\"primary\",\"disabled\":_vm.proficiencySelected.length <= 1},on:{\"click\":function($event){return _vm.reSet()}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-backup-restore \")])],1)],1)],1):_vm._e()],1)})],2)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"warning\",\"error\":\"\"},on:{\"click\":function () {\n                _vm.editDialog = false;\n              }}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-close-box-multiple\")]),_vm._v(\" Close \")],1),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.onUpdate}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-content-save-check-outline\")]),_vm._v(\" Save \")],1)],1)],1)],1)],1),_c('v-card',[_c('v-row',{staticClass:\"ma-2 pt-3\",attrs:{\"justify\":\"end\"}},[[_c('v-btn',{staticClass:\"mr-3\",attrs:{\"color\":\"primary\"},on:{\"click\":function () {\n              this$1.dialog = true;\n              this$1.skillCount = 1;\n            }}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-plus-circle \")]),_vm._v(\" Add Language \")],1),_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":_vm.tableData.length === 0},on:{\"click\":function () {\n              this$1.editDialog = true;\n            }}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-circle-edit-outline \")]),_vm._v(\" Edit Language \")],1)]],2),_c('v-card-text',[(_vm.tableData.length > 0)?_c('v-simple-table',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"},[_vm._v(\" Language \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" Skill \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" Excellent \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" Good \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" Fair \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" Poor \")])])]),_vm._l((_vm.tableData),function(item){return _c('tbody',{key:item.name},[_c('tr',[_c('th',{attrs:{\"rowspan\":\"6\",\"scope\":\"rowgroup\"}},[_vm._v(_vm._s(item.name))]),_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(\"Expressed signed\")]),_vm._l(([0, 1, 2, 3]),function(i){return _c('td',{key:i},_vm._l(([0, 1, 2, 3,4,5]),function(j){return _c('span',{key:j},[(\n                      item.skills[j] &&\n                        item.skills[j].type === 'Expressed signed' &&\n                        item.skills[j].level === _vm.level[i]\n                    )?_c('v-icon',{attrs:{\"color\":\"green\"}},[_vm._v(\"mdi-checkbox-marked-circle-outline\")]):_c('v-icon')],1)}),0)})],2),_c('tr',[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(\"Expressed spoken\")]),_vm._l(([0, 1, 2, 3]),function(i){return _c('td',{key:i},_vm._l(([0, 1, 2, 3,4,5]),function(j){return _c('span',{key:j},[(\n                      item.skills[j] &&\n                        item.skills[j].type === 'Expressed spoken' &&\n                        item.skills[j].level === _vm.level[i]\n                    )?_c('v-icon',{attrs:{\"color\":\"green\"}},[_vm._v(\"mdi-checkbox-marked-circle-outline\")]):_c('v-icon')],1)}),0)})],2),_c('tr',[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(\"Expressed written\")]),_vm._l(([0, 1, 2, 3]),function(i){return _c('td',{key:i},_vm._l(([0, 1, 2, 3,4,5]),function(j){return _c('span',{key:j},[(\n                      item.skills[j] &&\n                        item.skills[j].type === 'Expressed written' &&\n                        item.skills[j].level === _vm.level[i]\n                    )?_c('v-icon',{attrs:{\"color\":\"green\"}},[_vm._v(\"mdi-checkbox-marked-circle-outline\")]):_c('v-icon')],1)}),0)})],2),_c('tr',[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(\"Received signed\")]),_vm._l(([0, 1, 2, 3]),function(i){return _c('td',{key:i},_vm._l(([0, 1, 2, 3,4,5]),function(j){return _c('span',{key:j},[(\n                      item.skills[j] &&\n                        item.skills[j].type === 'Received signed' &&\n                        item.skills[j].level === _vm.level[i]\n                    )?_c('v-icon',{attrs:{\"color\":\"green\",\"div\":\"\"}},[_vm._v(\"mdi-checkbox-marked-circle-outline\")]):_c('v-icon')],1)}),0)})],2),_c('tr',[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(\"Received written\")]),_vm._l(([0, 1, 2, 3]),function(i){return _c('td',{key:i},_vm._l(([0, 1, 2, 3,4,5]),function(j){return _c('span',{key:j},[(\n                      item.skills[j] &&\n                        item.skills[j].type === 'Received written' &&\n                        item.skills[j].level === _vm.level[i]\n                    )?_c('v-icon',{attrs:{\"color\":\"green\",\"div\":\"\"}},[_vm._v(\"mdi-checkbox-marked-circle-outline\")]):_c('v-icon')],1)}),0)})],2),_c('tr',[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(\"Received spoken\")]),_vm._l(([0, 1, 2, 3]),function(i){return _c('td',{key:i},_vm._l(([0, 1, 2, 3,4,5]),function(j){return _c('span',{key:j},[(\n                      item.skills[j] &&\n                        item.skills[j].type === 'Received spoken' &&\n                        item.skills[j].level === _vm.level[i]\n                    )?_c('v-icon',{attrs:{\"color\":\"green\",\"div\":\"\"}},[_vm._v(\"mdi-checkbox-marked-circle-outline\")]):_c('v-icon')],1)}),0)})],2),_c('tr')])})]},proxy:true}],null,false,1009935552)}):_c('v-card-title',{staticClass:\"justify-center\"},[_c('span',{staticClass:\"text-h6\"},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"large\":\"\",\"color\":\"primary\"}},[_vm._v(\"mdi-translate\")]),_vm._v(\"No language data is available please add one \")],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-row justify=\"center\">\n      <v-dialog v-model=\"dialog\" persistent max-width=\"680px\">\n        <v-card class=\"px-6 py-4\">\n          <v-card-title class=\"justify-center\">\n            <span class=\"text-h6\"\n            ><v-icon large color=\"primary\" class=\"mr-2\">mdi-translate</v-icon\n            >Add New Language</span\n            >\n          </v-card-title>\n          <v-card-text>\n            <v-container>\n              <v-row>\n                <v-col cols=\"12\">\n                  <v-autocomplete\n                      dense\n                      :items=\"languageList\"\n                      label=\"Language\"\n                      :filter=\"customFilter\"\n                      required\n                      outlined\n                      v-model=\"selectedLanguage\"\n                      item-text=\"display\"\n                      return-object\n                  >\n                    <template v-slot:item=\"data\">\n                      <template v-if=\"typeof data.item === 'object'\">\n                        <v-list-item-content\n                            v-text=\"data.item.display\"\n                        ></v-list-item-content>\n                      </template>\n                    </template>\n                  </v-autocomplete>\n                </v-col>\n                <v-row\n                    class=\"mx-2\"\n                    v-for=\"(proficiencyData, index) in proficiencyInput\"\n                    :key=\"index\"\n                >\n                  <v-col cols=\"5\">\n                    <v-autocomplete\n                        dense\n                        label=\"proficiency Type\"\n                        :items=\"proficiencyType\"\n                        outlined\n                        v-model=\"proficiencyData.extension[1].valueCoding\"\n                        item-text=\"display\"\n                        return-object\n                    >\n                      <template v-slot:item=\"data\">\n                        <template v-if=\"typeof data.item === 'object'\">\n                          <v-list-item-content\n                              v-text=\"data.item.display\"\n                          ></v-list-item-content>\n                        </template>\n                      </template>\n                    </v-autocomplete>\n                  </v-col>\n                  <v-col cols=\"5\">\n                    <v-autocomplete\n                        dense\n                        :items=\"proficiency\"\n                        label=\"Proficiency\"\n                        outlined\n                        v-model=\"proficiencyData.extension[0].valueCoding\"\n                        item-text=\"display\"\n                        return-object\n                    >\n                      <template v-slot:item=\"data\">\n                        <template v-if=\"typeof data.item === 'object'\">\n                          <v-list-item-content\n                              v-text=\"data.item.display\"\n                          ></v-list-item-content>\n                        </template>\n                      </template>\n                    </v-autocomplete>\n                  </v-col>\n                  <v-cols cols=\"2\" v-if=\"index === proficiencyInput.length - 1\">\n                    <v-row class=\"mt-4 ml-2\">\n                      <v-btn\n                          rounded\n                          small\n                          icon\n                          flat\n                          color=\"primary\"\n                          :disabled=\"proficiencyInput.length >= 4\"\n                          @click=\"addProficiency\"\n                      >\n                        <v-icon left>\n                          mdi-plus-circle\n                        </v-icon>\n                      </v-btn>\n                      <v-btn\n                          rounded\n                          small\n                          icon\n                          flat\n                          color=\"primary\"\n                          :disabled=\"proficiencyInput.length <= 1\"\n                          @click=\"reSet()\"\n                      >\n                        <v-icon left>\n                          mdi-backup-restore\n                        </v-icon>\n                      </v-btn>\n                    </v-row>\n                  </v-cols>\n                </v-row>\n              </v-row>\n            </v-container>\n          </v-card-text>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"\n                () => {\n                  dialog = false;\n                  reSet();\n                }\n              \"\n            >\n              Close\n            </v-btn>\n            <v-btn color=\"blue darken-1\" text @click=\"onSave\">\n              Save\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </v-row>\n    <v-row justify=\"center\">\n      <v-dialog v-model=\"editDialog\" persistent max-width=\"680px\">\n        <v-card class=\"px-6 py-4\">\n          <v-card-title class=\"justify-center\">\n            <span class=\"text-h6\"\n            ><v-icon large color=\"primary\" class=\"mr-2\">mdi-translate</v-icon\n            >Select and Edit Language</span\n            >\n          </v-card-title>\n          <v-card-text>\n            <v-container>\n              <v-row>\n                <v-col cols=\"12\">\n                  <v-autocomplete\n                      dense\n                      :items=\"allAvailableLanguages.map((lan) => lan.coding[0])\"\n                      label=\"select the Language to edit\"\n                      :filter=\"customFilter\"\n                      required\n                      outlined\n                      v-model=\"selectedLanguageToEdit\"\n                      item-text=\"display\"\n                      return-object\n                  >\n                    <template v-slot:item=\"data\">\n                      <template v-if=\"typeof data.item === 'object'\">\n                        <v-list-item-content\n                            v-text=\"data.item.display\"\n                        ></v-list-item-content>\n                      </template>\n                    </template>\n                  </v-autocomplete>\n                </v-col>\n                <v-row\n                    class=\"mx-2\"\n                    v-for=\"(proficiencyData, index) in proficiencySelected\"\n                    :key=\"index\"\n                >\n                  <v-col cols=\"5\">\n                    <v-autocomplete\n                        dense\n                        label=\"proficiency Type\"\n                        :items=\"proficiencyType\"\n                        outlined\n                        v-model=\"proficiencyData.extension[1].valueCoding\"\n                        item-text=\"display\"\n                        return-object\n                    >\n                      <template v-slot:item=\"data\">\n                        <template v-if=\"typeof data.item === 'object'\">\n                          <v-list-item-content\n                              v-text=\"data.item.display\"\n                          ></v-list-item-content>\n                        </template>\n                      </template>\n                    </v-autocomplete>\n                  </v-col>\n                  <v-col cols=\"5\">\n                    <v-autocomplete\n                        dense\n                        :items=\"proficiency\"\n                        label=\"Proficiency\"\n                        outlined\n                        v-model=\"proficiencyData.extension[0].valueCoding\"\n                        item-text=\"display\"\n                        return-object\n                    >\n                      <template v-slot:item=\"data\">\n                        <template v-if=\"typeof data.item === 'object'\">\n                          <v-list-item-content\n                              v-text=\"data.item.display\"\n                          ></v-list-item-content>\n                        </template>\n                      </template>\n                    </v-autocomplete>\n                  </v-col>\n                  <v-cols\n                      cols=\"2\"\n                      v-if=\"index === proficiencySelected.length - 1\"\n                  >\n                    <v-row class=\"mt-4 ml-2\">\n                      <v-btn\n                          rounded\n                          small\n                          icon\n                          flat\n                          color=\"primary\"\n                          :disabled=\"proficiencySelected.length >= 6\"\n                          @click=\"addProficiencySelected\"\n                      >\n                        <v-icon left>\n                          mdi-plus-circle\n                        </v-icon>\n                      </v-btn>\n                      <v-btn\n                          rounded\n                          small\n                          icon\n                          flat\n                          color=\"primary\"\n                          :disabled=\"proficiencySelected.length <= 1\"\n                          @click=\"reSet()\"\n                      >\n                        <v-icon left>\n                          mdi-backup-restore\n                        </v-icon>\n                      </v-btn>\n                    </v-row>\n                  </v-cols>\n                </v-row>\n              </v-row>\n            </v-container>\n          </v-card-text>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn\n                color=\"warning\"\n                error\n                @click=\"\n                () => {\n                  editDialog = false;\n                }\n              \"\n            >\n              <v-icon left>mdi-close-box-multiple</v-icon>\n              Close\n            </v-btn>\n            <v-btn color=\"primary\" @click=\"onUpdate\">\n              <v-icon left>mdi-content-save-check-outline</v-icon>\n              Save\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </v-row>\n    <v-card>\n      <v-row justify=\"end\" class=\"ma-2 pt-3\">\n        <template>\n          <v-btn\n              class=\"mr-3\"\n              color=\"primary\"\n              @click=\"\n              () => {\n                this.dialog = true;\n                this.skillCount = 1;\n              }\n            \"\n          >\n            <v-icon left>\n              mdi-plus-circle\n            </v-icon>\n            Add Language\n          </v-btn>\n          <v-btn\n              color=\"primary\"\n              :disabled=\"tableData.length === 0\"\n              @click=\"\n              () => {\n                this.editDialog = true;\n              }\n            \"\n          >\n            <v-icon left>\n              mdi-circle-edit-outline\n            </v-icon>\n            Edit Language\n          </v-btn>\n        </template>\n      </v-row>\n      <v-card-text>\n        <v-simple-table v-if=\"tableData.length > 0\">\n          <template v-slot:default>\n            <thead>\n            <tr>\n              <th class=\"text-left\">\n                Language\n              </th>\n              <th class=\"text-left\">\n                Skill\n              </th>\n              <th class=\"text-left\">\n                Excellent\n              </th>\n              <th class=\"text-left\">\n                Good\n              </th>\n              <th class=\"text-left\">\n                Fair\n              </th>\n              <th class=\"text-left\">\n                Poor\n              </th>\n            </tr>\n            </thead>\n            <tbody v-for=\"item in tableData\" :key=\"item.name\">\n            <tr>\n              <th rowspan=\"6\" scope=\"rowgroup\">{{ item.name }}</th>\n              <th scope=\"row\">Expressed signed</th>\n              <td v-for=\"i in [0, 1, 2, 3]\" :key=\"i\">\n                  <span v-for=\"j in [0, 1, 2, 3,4,5]\" :key=\"j\">\n                    <v-icon\n                        v-if=\"\n                        item.skills[j] &&\n                          item.skills[j].type === 'Expressed signed' &&\n                          item.skills[j].level === level[i]\n                      \"\n                        color=\"green\"\n                    >mdi-checkbox-marked-circle-outline</v-icon\n                    ><v-icon v-else></v-icon>\n                  </span>\n              </td>\n            </tr>\n            <tr>\n              <th scope=\"row\">Expressed spoken</th>\n              <td v-for=\"i in [0, 1, 2, 3]\" :key=\"i\">\n                  <span v-for=\"j in [0, 1, 2, 3,4,5]\" :key=\"j\">\n                    <v-icon\n                        v-if=\"\n                        item.skills[j] &&\n                          item.skills[j].type === 'Expressed spoken' &&\n                          item.skills[j].level === level[i]\n                      \"\n                        color=\"green\"\n                    >mdi-checkbox-marked-circle-outline</v-icon\n                    ><v-icon v-else></v-icon>\n                  </span>\n              </td>\n            </tr>\n            <tr>\n              <th scope=\"row\">Expressed written</th>\n              <td v-for=\"i in [0, 1, 2, 3]\" :key=\"i\">\n                  <span v-for=\"j in [0, 1, 2, 3,4,5]\" :key=\"j\">\n                    <v-icon\n                        v-if=\"\n                        item.skills[j] &&\n                          item.skills[j].type === 'Expressed written' &&\n                          item.skills[j].level === level[i]\n                      \"\n                        color=\"green\"\n                    >mdi-checkbox-marked-circle-outline</v-icon\n                    ><v-icon v-else></v-icon>\n                  </span>\n              </td>\n            </tr>\n            <tr>\n              <th scope=\"row\">Received signed</th>\n              <td v-for=\"i in [0, 1, 2, 3]\" :key=\"i\">\n                  <span v-for=\"j in [0, 1, 2, 3,4,5]\" :key=\"j\">\n                    <v-icon\n                        v-if=\"\n                        item.skills[j] &&\n                          item.skills[j].type === 'Received signed' &&\n                          item.skills[j].level === level[i]\n                      \"\n                        color=\"green\"\n                        div               >mdi-checkbox-marked-circle-outline</v-icon\n                    ><v-icon v-else></v-icon>\n                  </span>\n              </td>\n            </tr>\n            <tr>\n              <th scope=\"row\">Received written</th>\n              <td v-for=\"i in [0, 1, 2, 3]\" :key=\"i\">\n                  <span v-for=\"j in [0, 1, 2, 3,4,5]\" :key=\"j\">\n                    <v-icon\n                        v-if=\"\n                        item.skills[j] &&\n                          item.skills[j].type === 'Received written' &&\n                          item.skills[j].level === level[i]\n                      \"\n                        color=\"green\"\n                        div               >mdi-checkbox-marked-circle-outline</v-icon\n                    ><v-icon v-else></v-icon>\n                  </span>\n              </td>\n            </tr>\n            <tr>\n              <th scope=\"row\">Received spoken</th>\n              <td v-for=\"i in [0, 1, 2, 3]\" :key=\"i\">\n                  <span v-for=\"j in [0, 1, 2, 3,4,5]\" :key=\"j\">\n                    <v-icon\n                        v-if=\"\n                        item.skills[j] &&\n                          item.skills[j].type === 'Received spoken' &&\n                          item.skills[j].level === level[i]\n                      \"\n                        color=\"green\"\n                        div               >mdi-checkbox-marked-circle-outline</v-icon\n                    ><v-icon v-else></v-icon>\n                  </span>\n              </td>\n            </tr>\n            <tr></tr>\n            </tbody>\n          </template>\n        </v-simple-table>\n        <v-card-title class=\"justify-center\" v-else>\n       <span class=\"text-h6\"\n       ><v-icon large color=\"primary\" class=\"mr-2\">mdi-translate</v-icon\n       >No language data is available please add one </span\n       >\n        </v-card-title>\n      </v-card-text>\n    </v-card>\n  </v-container>\n</template>\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"languageDetail\",\n  data() {\n    return {\n      valid: false,\n      skillCount: 1,\n      select: null,\n      dialog: false,\n      skillsList: [\"Received signed\", \"Expressed signed\", \"Expressed written\", \"Received written\",\"Expressed spoken\",\"Received spoken\"],\n      level: [\"Excellent\", \"Good\", \"Fair\", \"Poor\"],\n      tableData: [],\n      languageList: [],\n      filledLanguage: [],\n      proficiency: [],\n      proficiencyType: [],\n      selectedLanguage: null,\n      selectedProficiency: null,\n      selectedProficiencyType: null,\n      proficiencySelected: [],\n      selected: [],\n      required(propertyType) {\n        return (v) => v || `You must select a ${propertyType}`;\n      },\n      proficiencyInput: [\n        {\n          url: \"http://ihris.org/fhir/StructureDefinition/ihris-practitioner-language-proficiency\",\n          extension: [\n            {\n              url: \"level\",\n              valueCoding: {\n                system:\n                    \"http://terminology.hl7.org/CodeSystem/v3-LanguageAbilityProficiency\",\n                version: \"\",\n                code: \"\",\n                display: \"\",\n              },\n            },\n            {\n              url: \"type\",\n              valueCoding: {\n                system:\n                    \"http://terminology.hl7.org/CodeSystem/v3-LanguageAbilityMode\",\n                version: \"\",\n                code: \"\",\n                display: \"\",\n              },\n            },\n          ],\n        }\n      ],\n      // selected to edit\n      allAvailableLanguages: [],\n      selectedLanguageToEdit: null,\n      editDialog: false,\n    };\n  },\n  watch: {\n    selectedLanguageToEdit: function (value) {\n      let loaded = this.allAvailableLanguages.find(\n          (lan) => lan.coding[0].code === value.code\n      );\n      if (loaded.extension) {\n        this.proficiencySelected = loaded.extension;\n      } else {\n        this.proficiencySelected = [\n          {\n            url: \"http://ihris.org/fhir/StructureDefinition/ihris-practitioner-language-proficiency\",\n            extension: [\n              {\n                url: \"level\",\n                valueCoding: \"\",\n              },\n              {\n                url: \"type\",\n                valueCoding: \"\",\n              },\n            ],\n          },\n        ];\n      }\n    },\n  },\n  methods: {\n    reSet() {\n      this.proficiencyInput = [\n        {\n          url: \"http://ihris.org/fhir/StructureDefinition/ihris-practitioner-language-proficiency\",\n          extension: [\n            {\n              url: \"level\",\n              valueCoding: {\n                system:\n                    \"http://terminology.hl7.org/CodeSystem/v3-LanguageAbilityProficiency\",\n                version: \"\",\n                code: \"\",\n                display: \"\",\n              },\n            },\n            {\n              url: \"type\",\n              valueCoding: {\n                system:\n                    \"http://terminology.hl7.org/CodeSystem/v3-LanguageAbilityMode\",\n                version: \"\",\n                code: \"\",\n                display: \"\",\n              },\n            },\n          ],\n        }\n      ];\n    },\n    addProficiency() {\n      this.proficiencyInput.push({\n        url: \"http://ihris.org/fhir/StructureDefinition/ihris-practitioner-language-proficiency\",\n        extension: [\n          {\n            url: \"level\",\n            valueCoding: \"\",\n          },\n          {\n            url: \"type\",\n            valueCoding: \"\",\n          },\n        ],\n      });\n    },\n    addProficiencySelected() {\n      this.proficiencySelected.push({\n        url: \"http://ihris.org/fhir/StructureDefinition/ihris-practitioner-language-proficiency\",\n        extension: [\n          {\n            url: \"level\",\n            valueCoding: \"\",\n          },\n          {\n            url: \"type\",\n            valueCoding: \"\",\n          },\n        ],\n      });\n    },\n    customFilter(item, queryText) {\n      const textOne = item.display.toLowerCase();\n      const searchText = queryText.toLowerCase();\n      return textOne.indexOf(searchText) > -1;\n    },\n    onSave() {\n      this.dialog = false;\n      axios\n          .get(`/fhir/Practitioner/${this.$router.history.current.params.id}`)\n          .then(({ data }) => {\n            if (data.communication === undefined) {\n              data.communication = [];\n            }\n            data.communication.push({\n              extension: this.proficiencyInput,\n              coding: [this.selectedLanguage],\n            });\n            axios\n                .put(\n                    `/fhir/Practitioner/${this.$router.history.current.params.id}`,\n                    data\n                )\n                .then(() => {\n                  this.$router.go()\n                })\n                .catch((err) => {\n                  console.log(\"error\", err);\n                });\n          })\n          .catch((e) => console.log(e));\n    },\n    onUpdate() {\n      this.editDialog = false;\n      axios\n          .get(`/fhir/Practitioner/${this.$router.history.current.params.id}`)\n          .then(({ data }) => {\n            data.communication.find(\n                (lan) => lan.coding[0].code === this.selectedLanguageToEdit.code\n            ).extension = this.proficiencySelected;\n            axios\n                .put(\n                    `/fhir/Practitioner/${this.$router.history.current.params.id}`,\n                    data\n                )\n                .then(() => {\n                  this.$router.go();\n                })\n                .catch((err) => {\n                  console.log(\"error\", err);\n                });\n          })\n          .catch((e) => console.log(e));\n    },\n  },\n  created() {\n    axios\n        .get(`/fhir/Practitioner/${this.$router.history.current.params.id}`)\n        .then((res) => {\n          if (res.data && res.data.communication) {\n            this.allAvailableLanguages = res.data.communication;\n            res.data.communication.map((data) => {\n              if (data.coding[0].code) {\n                this.filledLanguage.push(data.coding[0].code);\n                let skill = [];\n                if (data.extension && data.extension.length > 0) {\n                  data.extension.map((data) => {\n                    let subSkill = {};\n                    if (\n                        data.extension &&\n                        data.extension[0] &&\n                        data.extension[1]\n                    ) {\n                      subSkill.level = data.extension[0].valueCoding.display;\n                      subSkill.type = data.extension[1].valueCoding.display;\n                      skill.push(subSkill);\n                    }\n                  });\n                }\n                let language = {};\n                language.skills = skill;\n                language.name = data.coding[0].display;\n                language.skillList = this.skillsList;\n                this.tableData.push(language);\n              }\n            });\n          }\n        });\n    axios\n        .get(\"/fhir/ValueSet/languages/$expand\")\n        .then((res) => {\n          this.languageList = res.data.expansion.contains;\n          this.languageList = this.languageList.filter(\n              (lang) => !this.filledLanguage.includes(lang.code)\n          );\n          this.languageList.sort((a, b) =>\n              a.display > b.display ? 1 : b.display > a.display ? -1 : 0\n          );\n        });\n    axios\n        .get(\"/fhir/ValueSet/v3-LanguageAbilityMode/$expand\")\n        .then((res) => (this.proficiencyType = res.data.expansion.contains))\n        .catch((e) => console.log(e));\n    axios\n        .get(\"/fhir/ValueSet/v3-LanguageAbilityProficiency/$expand\")\n        .then((res) => (this.proficiency = res.data.expansion.contains))\n        .catch((e) => console.log(e));\n  },\n};\n</script>\n\n<style scoped>\ntable,\nth,\ntd {\n  border: 1px dotted rgb(221, 221, 226);\n}\n.v-data-table > .v-data-table__wrapper > table > tbody > tr > th {\n  font-size: 14px !important;\n}\n.v-data-table > .v-data-table__wrapper > table > thead > tr > th,\n.v-data-table > .v-data-table__wrapper > table > tfoot > tr > th {\n  font-size: 16px !important;\n}\nbox {\n  border: 2px dashed #bbb;\n  width: 96%;\n  margin: 4px auto;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./languageDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./languageDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./languageDetail.vue?vue&type=template&id=6b049f1c&scoped=true&\"\nimport script from \"./languageDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./languageDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./languageDetail.vue?vue&type=style&index=0&id=6b049f1c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b049f1c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VDialog,VIcon,VListItemContent,VRow,VSimpleTable,VSpacer})\n","<template>\n  <div :id=\"'section-'+name\" class=\"ihris-section\" v-if=\"!edit || !secondary\" >\n    <v-card \n      class=\"mx-auto\"\n      max-width=\"700\"\n      outlined\n      >\n      <v-card-title class=\"primary darken-1 white--text text-uppercase font-weight-bold\">{{ $t(`App.ihris-section.${title}`) }}\n      </v-card-title>\n      <v-card-text class=\"my-3\" v-if=\"name!=='language'\">\n        <slot :source=\"slotProps.source\"></slot>\n      </v-card-text>\n      <v-card-text class=\"my-3\" v-if=\"name==='language'\">\n        <language-detail></language-detail>\n      </v-card-text>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport LanguageDetail from '../../views/languageDetail.vue'\nexport default {\n  name: \"ihris-section\",\n  props: [\"name\", \"slotProps\",\"title\",\"description\", \"edit\", \"secondary\"],\n  components: {\n    \"language-detail\": LanguageDetail\n  },\n  data: function() {\n    return {\n      //source: { path: \"\", data: {} }\n    }\n  },\n  created: function() {\n    //this.setupData()\n  },\n  watch: {\n    /*\n    slotProps: {\n      handler() {\n        //console.log(\"WATCH SECTION\",this.path,this.slotProps.source)\n        this.setupData()\n      },\n      deep: true\n    }\n    */\n  },\n  methods: {\n    /*\n    setupData: function() {\n      if ( this.slotProps.source ) {\n        this.source = { path: this.slotProps.source.path+\".\"+this.field, data: {} }\n        this.source.data = this.$fhirpath.evaluate( this.slotProps.source.data, this.field )\n      }\n    }\n    */\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ihris-section.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ihris-section.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ihris-section.vue?vue&type=template&id=57b812f8&\"\nimport script from \"./ihris-section.vue?vue&type=script&lang=js&\"\nexport * from \"./ihris-section.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\ninstallComponents(component, {VCard,VCardText,VCardTitle})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ihris-secondary.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ihris-secondary.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ihris-element',{attrs:{\"edit\":_vm.edit,\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"form\",fn:function(){return [_c('v-select',{attrs:{\"loading\":_vm.loading,\"label\":_vm.display,\"items\":_vm.items.filter(function (x) { return !x.code.includes('(deactivated)'); }),\"outlined\":\"\",\"hide-details\":\"auto\",\"error-messages\":_vm.errors,\"item-text\":\"display\",\"item-value\":\"code\",\"disabled\":_vm.disabled,\"rules\":_vm.rules,\"dense\":\"\"},on:{\"change\":function($event){_vm.errors = []}},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(_vm._s(_vm.$t((\"App.fhir-coding.\" + _vm.label)))+\" \"),(_vm.required)?_c('span',{staticClass:\"red--text font-weight-bold\"},[_vm._v(\"*\")]):_vm._e()]},proxy:true}]),model:{value:(_vm.valueCode),callback:function ($$v) {_vm.valueCode=$$v},expression:\"valueCode\"}})]},proxy:true},{key:\"header\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.$t((\"App.fhir-coding.\" + _vm.display)))+\" \")]},proxy:true},{key:\"value\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.valueDisplay || _vm.value.display || \"\")+\" \")]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ihris-element :edit=\"edit\" :loading=\"loading\">\n    <template #form>\n      <v-select \n        :loading=\"loading\" \n        :label=\"display\" \n        v-model=\"valueCode\" \n        :items=\"items.filter(x => !x.code.includes('(deactivated)'))\"\n        outlined \n        hide-details=\"auto\" \n        :error-messages=\"errors\"\n        item-text=\"display\"\n        item-value=\"code\"\n        :disabled=\"disabled\"\n        :rules=\"rules\"\n        dense\n        @change=\"errors = []\"\n      >\n        <template #label>{{$t(`App.fhir-coding.${label}`)}} <span v-if=\"required\" class=\"red--text font-weight-bold\">*</span></template>\n      </v-select>\n    </template>\n    <template #header>\n      {{$t(`App.fhir-coding.${display}`)}}\n    </template>\n    <template #value>\n      {{valueDisplay || value.display || \"\"}}\n    </template>\n  </ihris-element>\n</template>\n\n<script>\nimport IhrisElement from \"../ihris/ihris-element.vue\"\n\n/*\nconst itemSort = (a,b) => {\n  return (a.display === b.display ? (a.code === b.code ? 0 : (a.code < b.code ? -1: 1)) : (a.display < b.display ? -1 : 1) )\n}\n*/\nexport default {\n  name: \"fhir-coding\",\n  props: [\"field\",\"label\",\"sliceName\",\"targetprofile\",\"min\",\"max\",\"base-min\",\"base-max\",\"slotProps\",\"path\",\"binding\",\"edit\",\"readOnlyIfSet\",\n    \"constraints\"],\n  components: {\n    IhrisElement\n  },\n  data: function() {\n    return {\n      value: { system: \"\", code: \"\", display: \"\" },\n      valueCode: \"\",\n      valueDisplay: \"\",\n      loading: true,\n      errors: [],\n      //error: false,\n      items: [],\n      source: { path: \"\", data: {}, binding: this.binding },\n      disabled: false,\n      lockWatch: false\n    }\n  },\n  created: function() {\n    this.setupData()\n  },\n  watch: {\n    slotProps: {\n      handler() {\n        //console.log(\"WATCH CODING\",this.path,this.slotProps)\n        if ( !this.lockWatch ) {\n          this.setupData()\n        }\n      },\n      deep: true\n    },\n    valueCode: function( code ) {\n      if ( this.items ) {\n        let findValue = this.items.find( item => item.code === code )\n        if ( findValue ) {\n          this.value = findValue\n        }\n      }\n      if ( this.value.system && this.value.code ) {\n        this.$fhirutils.codeLookup( this.value.system, this.value.code, this.binding || this.source.binding ).then( display => {\n          this.valueDisplay = display\n        } )\n      }\n    }\n  },\n  methods: {\n    setupData: function() {\n      if ( this.slotProps && this.slotProps.source ) {\n        this.source = { path: this.slotProps.source.path+\".\"+this.field, data: {}, \n          binding: this.binding || this.slotProps.source.binding }\n        if ( this.slotProps.source.fromArray ) {\n          this.source.data = this.slotProps.source.data\n          // Need to see if this works and figure out what it needs to be\n          if ( this.source.data ) {\n            this.value = this.source.data\n            this.valueCode = this.value.code\n            this.lockWatch = true\n            //console.log(\"set\",this.value,this.valueCode)\n          }\n        } else {\n          let expression = this.$fhirutils.pathFieldExpression( this.field )\n          this.source.data = this.$fhirpath.evaluate( this.slotProps.source.data, expression )\n          //console.log(\"FPATH info\",this.path,this.slotProps)\n          //console.log(\"FPATH setting value to\",this.field,this.source.data[0],expression,this.slotProps.source.data)\n          if ( this.source.data[0] ) {\n            this.value = this.source.data[0]\n            this.valueCode = this.value.code\n            this.lockWatch = true\n          }\n        }\n        this.disabled = this.readOnlyIfSet && (!!this.valueCode)\n      }\n      let binding = this.binding || this.slotProps.source.binding\n      this.$fhirutils.expand( binding ).then( items => {\n        this.items = items \n        this.loading = false\n      } ).catch( err => {\n        console.log(err)\n        //this.error = true\n        this.errors = err.message\n        this.loading = false\n      } )\n      //console.log(\"CODING\",binding)\n      /*\n      let lastSlash = binding.lastIndexOf('/')\n      let lastPipe = binding.lastIndexOf('|')\n      let valueSetId = binding.slice(lastSlash+1, (lastPipe !== -1 ? lastPipe : binding.length ))\n      //console.log(\"CODING\",lastSlash,lastPipe,valueSetId)\n      fetch(\"/fhir/ValueSet/\"+valueSetId+\"/$expand\").then(response=> {\n        if( response.ok ) {\n          response.json().then(data=>{\n            try {\n              if ( data.expansion.contains && data.expansion.contains.length > 0 ) {\n                if ( data.expansion.contains[0].hasOwnProperty(\"display\") ) {\n                  this.items = data.expansion.contains\n                } else if ( data.compose && data.compose.include ) {\n                  this.items = data.expansion.contains.map( code => {\n                    let include = data.compose.include.find( inc => inc.system === code.system )\n                    if ( include && include.concept ) {\n                      let display = include.concept.find( concept => concept.code === code.code )\n                      if ( display ) {\n                        code.display = display.display\n                      }\n                    }\n                    return code\n                  } )\n                }\n              }\n              this.items.sort( itemSort )\n            } catch(err) {\n              this.error = true\n              this.errors = \"Invalid response from server.\"\n            }\n            this.loading = false\n          }).catch(err=>{\n            this.errors = err.message\n            this.error = true\n            this.loading = false\n          })\n        } else {\n          // Try loading valueset without expansion if expand failed.\n          console.log(\"Failed to get ValueSet Expansion for \"+valueSetId)\n          fetch(\"/fhir/ValueSet/\"+valueSetId).then(response=> {\n            if ( response.ok ) {\n              response.json().then(data=> {\n                this.items = []\n                if ( data.compose && data.compose.include ) {\n                  for( let include of data.compose.include ) {\n                    if ( include.concept ) {\n                      for ( let concept of include.concept ) {\n                        concept.system = include.system\n                        this.items.push( concept )\n                        //this.items.push( { system: include.system, ...concept } )\n                      }\n                    }\n                  }\n                }\n                this.items.sort( itemSort )\n                this.loading = false\n              }).catch(err=>{\n                this.errors = err.message\n                this.error = true\n                this.loading = false\n              })\n            } else {\n              this.error = true\n              this.errors = \"Invalid response from server.\"\n              this.loading = false\n            }\n          }).catch(err=>{\n            this.errors = err.message\n            this.error = true\n            this.loading = false\n          })\n\n        }\n      }).catch(err=>{\n        this.errors = err.message\n        this.error = true\n        this.loading = false\n      })\n      */\n    }\n  },\n  computed: {\n    index: function() {\n      if ( this.slotProps && this.slotProps.input ) return this.slotProps.input.index\n      else return undefined\n    },\n    display: function() {\n      if ( this.slotProps && this.slotProps.input) return this.slotProps.input.label\n      else return this.label\n    },\n    required: function() {\n      return (this.index || 0) < this.min\n    },\n    rules: function() {\n      if ( this.required ) {\n        return [ v => !!v || this.display+\" is required\" ]\n      } else {\n        return []\n      }\n    }\n    /*\n    displayValue: function() {\n      let found = this.items.find( item => item.code === this.valueCode )\n      if ( found ) {\n        return found.display\n      } else {\n        return \"\"\n      }\n    }\n    */\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-coding.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-coding.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fhir-coding.vue?vue&type=template&id=5299b29f&\"\nimport script from \"./fhir-coding.vue?vue&type=script&lang=js&\"\nexport * from \"./fhir-coding.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VSelect})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-subtitle',{staticClass:\"primary--text text-uppercase font-weight-bold\"},[_vm._v(_vm._s(_vm.$t((\"App.ihris-complex-card.\" + _vm.display))))]),_vm._l((_vm.errors),function(error,idx){return _c('v-card-text',{key:idx,staticClass:\"error white--text font-weight-bold\"},[_vm._v(_vm._s(error))])}),_c('v-card-text',[_vm._t(\"default\",null,{\"source\":_vm.source})],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-card-subtitle class=\"primary--text text-uppercase font-weight-bold\">{{ $t(`App.ihris-complex-card.${display}`) }}</v-card-subtitle>\n    <v-card-text v-for=\"(error,idx) in errors\" :key=\"idx\" class=\"error white--text font-weight-bold\">{{error}}</v-card-text>\n    <v-card-text>\n      <slot :source=\"source\"></slot>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nexport default {\n  name: \"ihris-complex-card\",\n  props: [\"complexField\", \"slotProps\",\"label\",\"errors\"],\n  data: function() {\n    return {\n      source: { path: \"\", data: {} }\n    }\n  },\n  created: function() {\n    this.setupData()\n  },\n  watch: {\n    slotProps: {\n      handler() {\n        //console.log(\"WATCH COMPLEX CARD\",this.path,this.slotProps)\n        this.setupData()\n      },\n      deep: true\n    }\n  },\n  methods: {\n    setupData: function() {\n      if ( this.slotProps && this.slotProps.source ) {\n        this.source = { path: this.slotProps.source.path+\".\"+this.complexField, data: {} }\n        if ( this.slotProps.source.fromArray ) {\n          this.source.data = this.slotProps.source.data\n        } else {\n          let expression = this.$fhirutils.pathFieldExpression( this.complexField )\n          this.source.data = this.$fhirpath.evaluate( this.slotProps.source.data, expression )\n        }\n        //console.log(this.source)\n      }\n    }\n  },\n  computed: {\n    display: function() {\n      if ( this.slotProps && this.slotProps.input ) return this.slotProps.input.label\n      else return this.label\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ihris-complex-card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ihris-complex-card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ihris-complex-card.vue?vue&type=template&id=56baa52e&\"\nimport script from \"./ihris-complex-card.vue?vue&type=script&lang=js&\"\nexport * from \"./ihris-complex-card.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\ninstallComponents(component, {VCard,VCardSubtitle,VCardText})\n"],"sourceRoot":""}